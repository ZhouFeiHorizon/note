# å‰ç«¯é¢è¯•é¢˜æ•´ç†

æ¯”è¾ƒå¥½çš„é¢è¯•é¢˜

[2021 å¹´æˆ‘çš„å‰ç«¯é¢è¯•å‡†å¤‡](https://juejin.cn/post/6989422484722286600)

## cssã€html

### **ä½ æ˜¯æ€ä¹ˆç†è§£** **HTML** **è¯­ä¹‰åŒ–**

HTML è¯­ä¹‰åŒ–ç®€å•æ¥è¯´å°±æ˜¯ç”¨æ­£ç¡®çš„æ ‡ç­¾æ¥åšæ­£ç¡®çš„äº‹ã€‚

æ¯”å¦‚è¡¨ç¤ºæ®µè½ç”¨ p æ ‡ç­¾ã€è¡¨ç¤ºæ ‡é¢˜ç”¨ h1-h6 æ ‡ç­¾ã€è¡¨ç¤ºæ–‡ç« å°±ç”¨ article ç­‰ã€‚

### DOCTYPE çš„ä½œç”¨

> https://www.cnblogs.com/wuqiutong/p/5986191.html

```
=   1. <!DOCTYPE> å£°æ˜ä½äºæ–‡æ¡£ä¸­çš„æœ€å‰é¢ï¼Œå¤„äº <html> æ ‡ç­¾ä¹‹å‰ã€‚å‘ŠçŸ¥æµè§ˆå™¨ä»¥ä½•ç§æ¨¡å¼æ¥æ¸²æŸ“æ–‡æ¡£ã€‚

2. ä¸¥æ ¼æ¨¡å¼çš„æ’ç‰ˆå’Œ JS è¿ä½œæ¨¡å¼æ˜¯ ä»¥è¯¥æµè§ˆå™¨æ”¯æŒçš„æœ€é«˜æ ‡å‡†è¿è¡Œã€‚
ï¼ˆ3ï¼‰ã€åœ¨æ··æ‚æ¨¡å¼ä¸­ï¼Œé¡µé¢ä»¥å®½æ¾çš„å‘åå…¼å®¹çš„æ–¹å¼æ˜¾ç¤ºã€‚æ¨¡æ‹Ÿè€å¼æµè§ˆå™¨çš„è¡Œä¸ºä»¥é˜²æ­¢ç«™ ç‚¹æ— æ³•å·¥ä½œã€‚
ï¼ˆ4ï¼‰ã€DOCTYPE ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®ä¼šå¯¼è‡´æ–‡æ¡£ä»¥æ··æ‚æ¨¡å¼å‘ˆç°ã€‚å¤åˆ¶ä»£ç  ä½ çŸ¥é“å¤šå°‘ç§ Doctype æ–‡æ¡£ç±»å‹ï¼Ÿ è¯¥æ ‡ç­¾å¯å£°æ˜ä¸‰ç§ DTD ç±»å‹ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸¥æ ¼ç‰ˆæœ¬ã€è¿‡æ¸¡ç‰ˆæœ¬ä»¥åŠåŸºäºæ¡†æ¶çš„ HTML æ–‡æ¡£ã€‚ HTML 4.01 è§„å®šäº†ä¸‰ç§æ–‡æ¡£ç±»å‹ï¼šStrictã€Transitional ä»¥åŠ Framesetã€‚ XHTML 1.0 è§„å®šäº†ä¸‰ç§ XML æ–‡æ¡£ç±»å‹ï¼šStrictã€Transitional ä»¥åŠ Framesetã€‚ Standards ï¼ˆæ ‡å‡†ï¼‰æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯ä¸¥æ ¼å‘ˆç°æ¨¡å¼ï¼‰ç”¨äºå‘ˆç°éµå¾ªæœ€æ–°æ ‡å‡†çš„ç½‘é¡µï¼Œè€Œ Quirks ï¼ˆåŒ…å®¹ï¼‰æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯æ¾æ•£å‘ˆç°æ¨¡å¼æˆ–è€…å…¼å®¹æ¨¡å¼ï¼‰ç”¨äºå‘ˆç°ä¸ºä¼ ç»Ÿæµè§ˆå™¨è€Œè®¾è®¡çš„ç½‘é¡µã€‚
```

### è¡Œå†…å…ƒç´ ã€å—çº§å…ƒç´ ã€ ç©ºå…ƒç´ æœ‰é‚£äº›ï¼Ÿ

- è¡Œå†…å…ƒç´  (ä¸èƒ½è®¾ç½®å®½é«˜ï¼Œè®¾ç½®å®½é«˜æ— æ•ˆ) a,span,i,em,strong,label
- è¡Œå†…å—å…ƒç´ ï¼šimg, input
- å—å…ƒç´ ï¼š div, p, h1-h6, ul,li,ol,dl,table...
- çŸ¥åçš„ç©ºå…ƒç´  br, hr,img, input,link,meta

å¯ä»¥é€šè¿‡ display ä¿®æ”¹ `inline-block`, `block`, `inline`

**æ³¨æ„**

åªæœ‰æ–‡å­—æ‰èƒ½ç»„æˆæ®µè½ï¼Œå› æ­¤ `p` æ ‡ç­¾é‡Œé¢ä¸èƒ½æ”¾å—çº§å…ƒç´ ï¼Œç‰¹åˆ«æ˜¯ `p` æ ‡ç­¾ä¸èƒ½æ”¾ `div`ã€‚åŒç†è¿˜æœ‰è¿™äº›æ ‡ç­¾`h1,h2,h3,h4,h5,h6,dt` ï¼Œä»–ä»¬éƒ½æ˜¯æ–‡å­—ç±»å—çº§æ ‡ç­¾ï¼Œé‡Œé¢ä¸èƒ½æ”¾å…¶ä»–å—çº§å…ƒç´ ã€‚

### html5 æ–°ç‰¹æ€§

> https://zhuanlan.zhihu.com/p/77131734

1. è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œ header, footer, nav, aside,article,section
2. å¢å¼ºå‹è¡¨å•
3. è§†é¢‘ video å’ŒéŸ³é¢‘ audio
4. Canvas ç»˜å›¾
5. [SVG](https://so.csdn.net/so/search?q=SVG&spm=1001.2101.3001.7020)ç»˜å›¾
6. åœ°ç†å®šä½
7. æ‹–æ”¾ API
8. WebWorker
9. WebStorage( æœ¬åœ°ç¦»çº¿å­˜å‚¨ localStorageã€sessionStorage )
10. WebSocket

### css3 æ–°ç‰¹æ€§

> https://zhuanlan.zhihu.com/p/136700705

1ã€åœ†è§’æ•ˆæœï¼›2ã€å›¾å½¢åŒ–è¾¹ç•Œï¼›3ã€å—é˜´å½±ä¸æ–‡å­—é˜´å½±ï¼›4ã€ä½¿ç”¨ RGBA å®ç°é€æ˜æ•ˆæœï¼›5ã€æ¸å˜æ•ˆæœï¼›6ã€ä½¿ç”¨â€œ@Font-Faceâ€å®ç°å®šåˆ¶å­—ä½“ï¼›7ã€å¤šèƒŒæ™¯å›¾ï¼›8ã€æ–‡å­—æˆ–å›¾åƒçš„å˜å½¢å¤„ç†ï¼›9ã€å¤šæ å¸ƒå±€ï¼›10ã€åª’ä½“æŸ¥è¯¢ç­‰ã€‚

### css é€‰æ‹©å™¨

id é€‰æ‹©å™¨ï¼ˆ #myidï¼‰

ç±»é€‰æ‹©å™¨ï¼ˆ.myclassnameï¼‰

æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆdiv, h1, pï¼‰ç›¸é‚»é€‰æ‹©å™¨ï¼ˆh1 + pï¼‰

å­é€‰æ‹©å™¨ï¼ˆul > liï¼‰åä»£é€‰æ‹©å™¨ï¼ˆli aï¼‰

å±æ€§é€‰æ‹©å™¨ï¼ˆa[rel = "external"]ï¼‰

ä¼ªç±»é€‰æ‹©å™¨ï¼ˆa: hover, li:nth-childï¼‰

é€šé…ç¬¦é€‰æ‹©å™¨ï¼ˆ \* ï¼‰

### ç›’æ¨¡å‹

ä¸€ä¸ªç›’å­ï¼Œä¼šç”¨ content,padding,border,margin å››éƒ¨åˆ†ï¼Œ

æ ‡å‡†çš„ç›’æ¨¡å‹çš„å®½é«˜æŒ‡çš„æ˜¯ content éƒ¨åˆ†

ie çš„ç›’æ¨¡å‹çš„å®½é«˜åŒ…æ‹¬äº† content+padding+border

æˆ‘ä»¬å¯ä»¥é€šè¿‡ box-sizing ä¿®æ”¹ç›’æ¨¡å‹ï¼Œbox-sizing `border-box` `content-box`

### margin åˆå¹¶

åœ¨å‚ç›´æ–¹å‘ä¸Šçš„ä¸¤ä¸ªç›’å­ï¼Œä»–ä»¬çš„ margin ä¼šå‘ç”Ÿåˆå¹¶ï¼ˆä¼šå–æœ€å¤§çš„å€¼ï¼‰ï¼Œæ¯”å¦‚ä¸Šè¾¹ç›’å­è®¾ç½®`margin-bottom:20px`ï¼Œä¸‹è¾¹ç›’å­è®¾ç½®`margin-top:30px;`ï¼Œé‚£ä¹ˆä¸¤ä¸ªç›’å­é—´çš„é—´è·åªæœ‰`30px`ï¼Œä¸ä¼šæ˜¯`50px`

è§£å†³ margin åˆå¹¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å…¶ä¸­ä¸€ä¸ªç›’å­å¥—ä¸Šä¸€ä¸ªçˆ¶ç›’å­ï¼Œç»™çˆ¶ç›’å­è®¾ç½® BFC

### margin å¡Œé™·

æ•ˆæœï¼š ä¸€ä¸ªçˆ¶ç›’å­ä¸­æœ‰ä¸€ä¸ªå­ç›’å­ï¼Œæˆ‘ä»¬ç»™å­ç›’å­è®¾ç½®`margin-top:xxpx`ç»“æœå‘ç°ä¼šå¸¦ç€çˆ¶ç›’å­ä¸€èµ·ç§»åŠ¨ï¼ˆå°±æ•ˆæœå’Œçˆ¶ç›’å­è®¾ç½®`margin-top:xxpx`çš„æ•ˆæœä¸€æ ·ï¼‰

è§£å†³ï¼š 1ã€ç»™çˆ¶ç›’å­è®¾ç½® borderï¼Œä¾‹å¦‚è®¾ç½®`border:1px solid red;` 2ã€ç»™çˆ¶ç›’å­è®¾ç½® BFC

### BFC

> å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ (block format context)

**BFC çš„å¸ƒå±€è§„åˆ™** \*

- å†…éƒ¨çš„ Box ä¼šåœ¨å‚ç›´æ–¹å‘ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ”¾ç½®ã€‚
- Box å‚ç›´æ–¹å‘çš„è·ç¦»ç”± margin å†³å®šã€‚å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚» Box çš„ margin ä¼šå‘ç”Ÿé‡å ã€‚
- æ¯ä¸ªç›’å­ï¼ˆå—ç›’ä¸è¡Œç›’ï¼‰çš„ margin box çš„å·¦è¾¹ï¼Œä¸åŒ…å«å— border box çš„å·¦è¾¹ç›¸æ¥è§¦(å¯¹äºä»å·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å)ã€‚å³ä½¿å­˜åœ¨æµ®åŠ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚
- BFC çš„åŒºåŸŸä¸ä¼šä¸ float box é‡å ã€‚
- BFC å°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚åä¹‹ä¹Ÿå¦‚æ­¤ã€‚
- è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚

**è§¦å‘ BFC çš„æ¡ä»¶** \*

- æ ¹å…ƒç´  html
- float çš„å€¼ä¸æ˜¯ noneã€‚
- position çš„å€¼ absouteã€fixed
- display çš„å€¼æ˜¯ inline-blockã€table-cellã€flexã€table-caption æˆ–è€… inline-flex
- overflow çš„å€¼ä¸æ˜¯ visible

### DOM äº‹ä»¶æœºåˆ¶/æ¨¡å‹

> DOM0 çº§æ¨¡å‹ã€IE äº‹ä»¶æ¨¡å‹ã€DOM2 çº§äº‹ä»¶æ¨¡å‹

å°±æ¯”å¦‚ç”¨æˆ·è§¦å‘ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œæœ‰ä¸€ä¸ªè§¦å‘çš„è¿‡ç¨‹

äº‹ä»¶æ•è·-é˜¶æ®µï¼ˆä»ä¸Šå¤§å°ï¼Œä»å¤–åˆ°å†…ï¼‰--->å¤„äºç›®æ ‡äº‹ä»¶-é˜¶æ®µ---->äº‹ä»¶å†’æ³¡-é˜¶æ®µï¼ˆä»ä¸‹åˆ°ä¸Šï¼Œä»å†…åˆ°å¤–ï¼‰

```js
window.addEventListener(
  "click",
  function (event) {
    event = event || window.event /*ie*/;

    const target = event.target || event.srcElement; /*ie*/ // æ‹¿åˆ°äº‹ä»¶ç›®æ ‡

    // é˜»æ­¢å†’æ³¡
    // event.stopPropagation()
    // event.cancelBubble=true; // ie

    // é˜»æ­¢é»˜è®¤äº‹ä»¶
    // event.preventDefault();
    // event.returnValue=false; // ie
  },
  /* æ˜¯å¦ä½¿ç”¨æ•è·ï¼Œé»˜è®¤æ˜¯fasle, */ fasle
);
```

![äº‹ä»¶ä¼ æ’­.jpeg](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/44f3f89d86344aacb901cd841620bbff~tplv-k3u1fbpfcp-watermark.awebp?)

#### äº‹ä»¶å§”æ‰˜

ç®€ä»‹ï¼šäº‹ä»¶å§”æ‰˜æŒ‡çš„æ˜¯ï¼Œä¸åœ¨äº‹ä»¶çš„å‘ç”Ÿåœ°ï¼ˆç›´æ¥ domï¼‰ä¸Šè®¾ç½®ç›‘å¬å‡½æ•°ï¼Œè€Œæ˜¯

åœ¨å…¶çˆ¶å…ƒç´ ä¸Šè®¾ç½®ç›‘å¬å‡½æ•°ï¼Œé€šè¿‡äº‹ä»¶å†’æ³¡ï¼Œçˆ¶å…ƒç´ å¯ä»¥ç›‘å¬åˆ°å­å…ƒç´ ä¸Šäº‹ä»¶çš„

è§¦å‘ï¼Œé€šè¿‡åˆ¤æ–­äº‹ä»¶å‘ç”Ÿå…ƒç´  DOM çš„ç±»å‹ï¼Œæ¥åšå‡ºä¸åŒçš„å“åº”ã€‚

ä¸¾ä¾‹ï¼šæœ€ç»å…¸çš„å°±æ˜¯ ul å’Œ li æ ‡ç­¾çš„äº‹ä»¶ç›‘å¬ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨æ·»åŠ äº‹ä»¶æ—¶å€™ï¼Œé‡‡ç”¨

äº‹ä»¶å§”æ‰˜æœºåˆ¶ï¼Œä¸ä¼šåœ¨ li æ ‡ç­¾ä¸Šç›´æ¥æ·»åŠ ï¼Œè€Œæ˜¯åœ¨ ul çˆ¶å…ƒç´ ä¸Šæ·»åŠ ã€‚

å¥½å¤„ï¼šæ¯”è¾ƒåˆé€‚åŠ¨æ€å…ƒç´ çš„ç»‘å®šï¼Œæ–°æ·»åŠ çš„å­å…ƒç´ ä¹Ÿä¼šæœ‰ç›‘å¬å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æœ‰äº‹

ä»¶è§¦å‘æœºåˆ¶

## JavaScript

### js æ•°æ®ç±»å‹

8 ä¸­, `ES6`å‡ºçš„ `Symbol BigInt`

```
Number String Boolean undefined null Object Symbol BigInt
```

js çš„åŸºæœ¬æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹çš„åŒºåˆ«ï¼ˆåœ¨å †å’Œæ ˆä¸­ï¼Œèµ‹å€¼æ—¶çš„ä¸åŒ,ä¸€ä¸ªæ‹·è´å€¼ä¸€ä¸ªæ‹·è´åœ°å€ï¼‰

**åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹åœ¨å†…å­˜ä¸Šå­˜å‚¨çš„åŒºåˆ«**

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89b70c934a0f436d90364287d706971a~tplv-k3u1fbpfcp-zoom-1.image)

**null ä¸ undefined çš„å¼‚åŒ**

**ç›¸åŒç‚¹ï¼š**

- Undefined å’Œ Null éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™ä¸¤ä¸ªåŸºæœ¬æ•°æ®ç±»å‹åˆ†åˆ«éƒ½åªæœ‰ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯ undefined å’Œ null

**ä¸åŒç‚¹ï¼š**

- null è½¬æ¢æˆæ•°å­—æ˜¯ 0, undefined è½¬æ¢æ•°å­—æ˜¯`NaN`

- undefined ä»£è¡¨çš„å«ä¹‰æ˜¯æœªå®šä¹‰ï¼Œ null ä»£è¡¨çš„å«ä¹‰æ˜¯ç©ºå¯¹è±¡ã€‚

- typeof null è¿”å›'object'ï¼Œtypeof undefined è¿”å›'undefined'

- ```js
  null == undefined; // true
  null === undefined; // false
  å¤åˆ¶ä»£ç ;
  ```

- å…¶å® null ä¸æ˜¯å¯¹è±¡ï¼Œè™½ç„¶ typeof null ä¼šè¾“å‡º objectï¼Œä½†æ˜¯è¿™åªæ˜¯ JS å­˜åœ¨çš„ä¸€ä¸ªæ‚ ä¹… Bugã€‚åœ¨ JS çš„æœ€åˆç‰ˆæœ¬ä¸­ä½¿ç”¨çš„æ˜¯ 32 ä½ç³»ç»Ÿï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ä½¿ç”¨ä½ä½å­˜å‚¨å˜é‡çš„ç±»å‹ä¿¡æ¯ï¼Œ000 å¼€å¤´ä»£è¡¨æ˜¯å¯¹è±¡ï¼Œç„¶è€Œ null è¡¨ç¤ºä¸ºå…¨é›¶ï¼Œæ‰€ä»¥å°†å®ƒé”™è¯¯çš„åˆ¤æ–­ä¸º object ã€‚è™½ç„¶ç°åœ¨çš„å†…éƒ¨ç±»å‹åˆ¤æ–­ä»£ç å·²ç»æ”¹å˜äº†ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ª Bug å´æ˜¯ä¸€ç›´æµä¼ ä¸‹æ¥ã€‚

**è¯´è¯´ JavaScript ä¸­åˆ¤æ–­æ•°æ®ç±»å‹çš„å‡ ç§æ–¹æ³•**

**typeof**

- `typeof`ä¸€èˆ¬ç”¨æ¥åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹ï¼Œ**é™¤äº†åˆ¤æ–­ null ä¼šè¾“å‡º"object"ï¼Œå…¶å®ƒéƒ½æ˜¯æ­£ç¡®çš„**
- `typeof`åˆ¤æ–­å¼•ç”¨æ•°æ®ç±»å‹æ—¶ï¼Œ**é™¤äº†åˆ¤æ–­å‡½æ•°ä¼šè¾“å‡º"function",å…¶å®ƒéƒ½æ˜¯è¾“å‡º"object"**

**instanceof**

> Instanceof å¯ä»¥å‡†ç¡®çš„åˆ¤æ–­å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå®ƒçš„åŸç†æ˜¯æ£€æµ‹æ„é€ å‡½æ•°çš„`prototype`å±æ€§æ˜¯å¦åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šï¼Œ ä¸èƒ½åˆ¤æ–­åŸºæœ¬æ•°æ®ç±»å‹

```js
// instanceof çš„å®ç°
function instanceofOper(left, right) {
  const prototype = right.prototype;
  while (left) {
    if ((left = left.__proto__) === prototype) {
      return true;
    }
  }
  return false;
}
// let obj  = {}
// Object.getPrototypeOf(obj) === obj.__proto__ ==> true

// å®ç° instanceof 2
function myInstanceof(left, right) {
  // è¿™é‡Œå…ˆç”¨typeofæ¥åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥è¿”å›false
  if (typeof left !== "object" || left === null) return false;
  // getProtypeOfæ˜¯Objectå¯¹è±¡è‡ªå¸¦çš„APIï¼Œèƒ½å¤Ÿæ‹¿åˆ°å‚æ•°çš„åŸå‹å¯¹è±¡
  let proto = Object.getPrototypeOf(left);
  while (true) {
    if (proto === null) return false;
    if (proto === right.prototype) return true; //æ‰¾åˆ°ç›¸åŒåŸå‹å¯¹è±¡ï¼Œè¿”å›true
    proto = Object.getPrototypeof(proto);
  }
}
```

**Object.prototype.toString.call()** è¿”å› `[object Xxxx]` éƒ½èƒ½åˆ¤æ–­ 

### æ·±æ‹·è´å’Œæµ…æ‹·è´

```js
let obj = { b: "xxx" };
let arr = [{ a: "ss" }, obj, 333];

// èµ‹å€¼
let arr2 = arr;
// æµ…æ‹·è´-åªæ‹·è´äº†ä¸€å±‚ï¼Œæ·±å±‚æ¬¡çš„å¼•ç”¨è¿˜æ˜¯å­˜åœ¨
// Object.assign(), ...æ‰©å±•è¿ç®—ç¬¦ï¼Œsliceç­‰
let arr2 = arr.slice();
let arr2 = [...arr];
obj.b = "222"; // arr2[1].b => 222
// arr[2] = 4444 ==> arr2[2] ===> 333

// æ·±æ‹·è´
// æœ€ç®€å•çš„
let arr2 = JSON.parse(JSON.stringify(arr));
// undefined ä¸¢å¤±ï¼Œå¦‚æœé‡Œé¢æœ‰ å‡½æ•°ï¼Œè¿˜æœ‰å¾ªç¯å¼•ç”¨å°±ä¼šæŠ¥é”™
// è‡ªå·±å°è£…ï¼Œè¦é€’å½’å¤„ç†
```

### æ¨¡å—åŒ–

- `commonjs`

  ```js
  // ç”±nodejså®ç°
  const fs = require("fs");
  module.exports = {};
  ```

- ESM

  ```js
  // ç”±es6å®ç°
  import $ from "jquery";
  export default $;
  ```

- AMDï¼ˆå¼‚æ­¥åŠ è½½æ¨¡å—ï¼‰

  ```js
  // ç”±RequireJSå®ç°
  define(["juqery", "vue"], function ($, Vue) {
    // ä¾èµ–å¿…é¡»ä¸€å¼€å§‹å°±å†™å¥½
    $("#app");
    new Vue({});
  });
  ```

- CMD

  ```JS
  // ç”±SeaJS å®ç°
  define(function(require, exports, module) {
      var a = require('./a')
      a.doSomething()
      // ....
      var b = require('./b') // ä¾èµ–å¯ä»¥å°±è¿‘ä¹¦å†™
      b.doSomething()
     // ...
  })
  ```

- UMD (é€šç”¨åŠ è½½æ¨¡å—)

  ```js
  (function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    (global = global || self, global.Vue = factory());
  }(this, function () { 'use strict';
  ```

#### AMD å’Œ CMD çš„åŒºåˆ«æœ‰å“ªäº›

> https://blog.csdn.net/qq_38912819/article/details/80597101

1. å¯¹äºä¾èµ–çš„æ¨¡å—ï¼ŒAMD æ˜¯**æå‰æ‰§è¡Œ**ï¼ŒCMD æ˜¯**å»¶è¿Ÿæ‰§è¡Œ**ã€‚ä¸è¿‡ RequireJS ä» 2.0 å¼€å§‹ï¼Œä¹Ÿæ”¹æˆå¯ä»¥å»¶è¿Ÿæ‰§è¡Œï¼ˆæ ¹æ®å†™æ³•ä¸åŒï¼Œå¤„ç†æ–¹å¼ä¸åŒï¼‰
2. CMD æ¨å´‡**ä¾èµ–å°±è¿‘**ï¼ŒAMD æ¨å´‡**ä¾èµ–å‰ç½®**

#### CommonJS ä¸ ES6 Module çš„å·®å¼‚

**CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚**

- CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„æ‹·è´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ã€‚
- ES6 æ¨¡å—çš„è¿è¡Œæœºåˆ¶ä¸ CommonJS ä¸ä¸€æ ·ã€‚JS å¼•æ“å¯¹è„šæœ¬é™æ€åˆ†æçš„æ—¶å€™ï¼Œé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤`import`ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ã€‚ç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—é‡Œé¢å»å–å€¼ã€‚æ¢å¥è¯è¯´ï¼ŒES6 çš„`import`æœ‰ç‚¹åƒ Unix ç³»ç»Ÿçš„â€œç¬¦å·è¿æ¥â€ï¼ŒåŸå§‹å€¼å˜äº†ï¼Œ`import`åŠ è½½çš„å€¼ä¹Ÿä¼šè·Ÿç€å˜ã€‚å› æ­¤ï¼ŒES6 æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚

**CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚**

- è¿è¡Œæ—¶åŠ è½½: CommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼›å³åœ¨è¾“å…¥æ—¶æ˜¯å…ˆåŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–æ–¹æ³•ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ã€‚
- ç¼–è¯‘æ—¶åŠ è½½: ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡ `export` å‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œ`import`æ—¶é‡‡ç”¨é™æ€å‘½ä»¤çš„å½¢å¼ã€‚å³åœ¨`import`æ—¶å¯ä»¥æŒ‡å®šåŠ è½½æŸä¸ªè¾“å‡ºå€¼ï¼Œè€Œä¸æ˜¯åŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œç¼–è¯‘æ—¶åŠ è½½â€ã€‚

**CommonJS åŠ è½½çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå³ module.exports å±æ€§ï¼‰ï¼Œè¯¥å¯¹è±¡åªæœ‰åœ¨è„šæœ¬è¿è¡Œå®Œæ‰ä¼šç”Ÿæˆã€‚è€Œ ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒçš„å¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚**

### JS å»¶è¿ŸåŠ è½½çš„æ–¹å¼

JavaScript ä¼šé˜»å¡ DOM çš„è§£æï¼Œå› æ­¤ä¹Ÿå°±ä¼šé˜»å¡ DOM çš„åŠ è½½ã€‚æ‰€ä»¥æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å»¶è¿Ÿ JS çš„åŠ è½½æ¥æé«˜é¡µé¢çš„åŠ è½½é€Ÿåº¦ã€‚

- æŠŠ JS æ”¾åœ¨é¡µé¢çš„æœ€åº•éƒ¨
- script æ ‡ç­¾çš„ defer å±æ€§ï¼šè„šæœ¬ä¼šç«‹å³ä¸‹è½½ä½†å»¶è¿Ÿåˆ°æ•´ä¸ªé¡µé¢åŠ è½½å®Œæ¯•å†æ‰§è¡Œã€‚è¯¥å±æ€§å¯¹äºå†…è”è„šæœ¬æ— ä½œç”¨ (å³æ²¡æœ‰ **ã€Œsrcã€** å±æ€§çš„è„šæœ¬ï¼‰ã€‚
- Async æ˜¯åœ¨å¤–éƒ¨ JS åŠ è½½å®Œæˆåï¼Œæµè§ˆå™¨ç©ºé—²æ—¶ï¼ŒLoad äº‹ä»¶è§¦å‘å‰æ‰§è¡Œï¼Œæ ‡è®°ä¸º async çš„è„šæœ¬å¹¶ä¸ä¿è¯æŒ‰ç…§æŒ‡å®šä»–ä»¬çš„å…ˆåé¡ºåºæ‰§è¡Œï¼Œè¯¥å±æ€§å¯¹äºå†…è”è„šæœ¬æ— ä½œç”¨ (å³æ²¡æœ‰ **ã€Œsrcã€** å±æ€§çš„è„šæœ¬ï¼‰ã€‚
- åŠ¨æ€åˆ›å»º script æ ‡ç­¾ï¼Œç›‘å¬ dom åŠ è½½å®Œæ¯•å†å¼•å…¥ js æ–‡ä»¶

### callã€apply ã€bind

> callï¼Œapply, bind éƒ½æ˜¯æ”¹å˜ this æŒ‡å‘ï¼Œbind ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œä¼šè¿”å›çš„æ˜¯ä¸€ä¸ªç»‘å®š this çš„æ–°å‡½æ•°
>
> [é¢è¯•å®˜é—®ï¼šèƒ½å¦æ¨¡æ‹Ÿå®ç° JS çš„ call å’Œ apply æ–¹æ³•](https://juejin.cn/post/6844903728147857415)

```js
obj.call(thisæŒ‡å‘, å‚æ•°1ï¼Œ å‚æ•°2)ss
obj.apply(thisæŒ‡å‘, [å‚æ•°1ï¼Œ å‚æ•°2])

function fn(age) {
    console.log(this, age)
}
const obj = {name:''}
const result = fn.bind(obj) // bindä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°
result(20)
```

```js
// å®ç°ä¸€ä¸ª apply
Function.prototype.myApply = function (context) {
  context = context || window;
  const fn = Symbol();
  context[fn] = this;
  var res = context[fn](...arguments[1]);
  delete context[fn];
  return res;
};
```

å®ç°ä¸€ä¸ª bind 

```js
// æœ€ç»ˆç‰ˆ åˆ é™¤æ³¨é‡Š è¯¦ç»†æ³¨é‡Šç‰ˆè¯·çœ‹ä¸Šæ–‡
Function.prototype.bind = Function.prototype.bind || function bind(thisArg){
    if(typeof this !== 'function'){
        throw new TypeError(this + ' must be a function');
    }
    var self = this;
    var args = [].slice.call(arguments, 1);
    var bound = function(){
        var boundArgs = [].slice.call(arguments);
        var finalArgs = args.concat(boundArgs);
        if(this instanceof bound){
            if(self.prototype){
                function Empty(){}
                Empty.prototype = self.prototype;
                bound.prototype = new Empty();
            }
            var result = self.apply(this, finalArgs);
            var isObject = typeof result === 'object' && result !== null;
            var isFunction = typeof result === 'function';
            if(isObject || isFunction){
                return result;
            }
            return this;
        }
        else{
            return self.apply(thisArg, finalArgs);
        }
    };
    return bound;
}
```



### é˜²æŠ–

> debounce æ‰€è°“é˜²æŠ–ï¼Œå°±æ˜¯æŒ‡è§¦å‘äº‹ä»¶ååœ¨ n ç§’å†…å‡½æ•°åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœ¨ n ç§’å†…åˆè§¦å‘äº†äº‹ä»¶ï¼Œåˆ™ä¼šé‡æ–°è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´ã€‚

```js
function debounce(fn, wait = 300) {
  let timer = null;
  return function () {
    const ctx = this;
     timer && clearTimeout(timer);
     timer = setTimeout(() => {
       fn.apply(ctx, arguments);
       timer = null;
    }, wait);
  };
}
```

### èŠ‚æµ

> å°±æ˜¯æŒ‡è¿ç»­è§¦å‘äº‹ä»¶ä½†æ˜¯åœ¨ n ç§’ä¸­åªæ‰§è¡Œä¸€æ¬¡å‡½æ•°

```js
function throttle(fn, wait) {
  let pre = 0;
  return function (...args) {
    let now = Date.now();
    if (now - pre >= wait) {
      fn.apply(this, args);
      pre = now;
    }
  };
}
```

### é—­åŒ…

é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•° â€”â€”ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹

å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œ

å³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œ â€”â€”ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹

- é—­åŒ…ç”¨é€”ï¼š
  1. èƒ½å¤Ÿè®¿é—®å‡½æ•°å®šä¹‰æ—¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸ(é˜»æ­¢å…¶è¢«å›æ”¶)
  2. ç§æœ‰åŒ–å˜é‡
  3. æ¨¡æ‹Ÿå—çº§ä½œç”¨åŸŸ
  4. åˆ›å»ºæ¨¡å—
- é—­åŒ…ç¼ºç‚¹ï¼šä¼šå¯¼è‡´å‡½æ•°çš„å˜é‡ä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿‡å¤šçš„é—­åŒ…å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼

### åŸå‹ã€åŸå‹é“¾(é«˜é¢‘)

**åŸå‹:** å¯¹è±¡ä¸­å›ºæœ‰çš„`__proto__`å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘å¯¹è±¡çš„`prototype`åŸå‹å±æ€§ã€‚

**åŸå‹é“¾:** å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡åˆä¼šæœ‰è‡ªå·±çš„åŸå‹ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯åŸå‹é“¾çš„æ¦‚å¿µã€‚åŸå‹é“¾çš„å°½å¤´ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯`Object.prototype`æ‰€ä»¥è¿™å°±æ˜¯æˆ‘ä»¬æ–°å»ºçš„å¯¹è±¡ä¸ºä»€ä¹ˆèƒ½å¤Ÿä½¿ç”¨`toString()`ç­‰æ–¹æ³•çš„åŸå› ã€‚

**ç‰¹ç‚¹:** `JavaScript`å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥ä¼ é€’çš„ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªæ–°å¯¹è±¡å®ä½“ä¸­å¹¶æ²¡æœ‰ä¸€ä»½å±äºè‡ªå·±çš„åŸå‹å‰¯æœ¬ã€‚å½“æˆ‘ä»¬ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™ä¸€æ”¹å˜ã€‚

### this æŒ‡å‘ã€new å…³é”®å­—

`this`å¯¹è±¡æ˜¯æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒæŒ‡å‘æœ€åä¸€æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼Œåœ¨å…¨å±€å‡½æ•°ä¸­ï¼Œ`this`ç­‰äº`window`ï¼Œè€Œå½“å‡½æ•°è¢«ä½œä¸ºæŸä¸ªå¯¹è±¡è°ƒç”¨æ—¶ï¼Œthis ç­‰äºé‚£ä¸ªå¯¹è±¡ã€‚ åœ¨å®é™…å¼€å‘ä¸­ï¼Œ`this `çš„æŒ‡å‘å¯ä»¥é€šè¿‡å››ç§è°ƒç”¨æ¨¡å¼æ¥åˆ¤æ–­ã€‚

1. å‡½æ•°è°ƒç”¨ï¼Œå½“ä¸€ä¸ªå‡½æ•°ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œç›´æ¥ä½œä¸ºå‡½æ•°æ¥è°ƒç”¨æ—¶ï¼Œ`this`æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚
2. æ–¹æ³•è°ƒç”¨ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°ä½œä¸ºä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•æ¥è°ƒç”¨æ—¶ï¼Œ`this`æŒ‡å‘è¿™ä¸ªå¯¹è±¡ã€‚
3. æ„é€ å‡½æ•°è°ƒç”¨ï¼Œ`this`æŒ‡å‘è¿™ä¸ªç”¨`new`æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚
4. ç¬¬å››ç§æ˜¯ `apply ã€ call å’Œ bind `è°ƒç”¨æ¨¡å¼ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ˜¾ç¤ºçš„æŒ‡å®šè°ƒç”¨å‡½æ•°çš„ this æŒ‡å‘ã€‚`apply`æ¥æ”¶å‚æ•°çš„æ˜¯æ•°ç»„ï¼Œ`call`æ¥å—å‚æ•°åˆ—è¡¨ï¼Œ`` bind`æ–¹æ³•é€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª`this`ç»‘å®šäº†ä¼ å…¥å¯¹è±¡çš„æ–°å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„ `this`æŒ‡å‘é™¤äº†ä½¿ç”¨`new `æ—¶ä¼šè¢«æ”¹å˜ï¼Œå…¶ä»–æƒ…å†µä¸‹éƒ½ä¸ä¼šæ”¹å˜ã€‚

**new**

> [é¢è¯•å®˜é—®ï¼šèƒ½å¦æ¨¡æ‹Ÿå®ç° JS çš„ new æ“ä½œç¬¦](https://juejin.cn/post/6844903704663949325)

1. é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç©ºå¯¹è±¡
2. è®¾ç½®åŸå‹ï¼Œå°†å¯¹è±¡çš„åŸå‹è®¾ç½®ä¸ºå‡½æ•°çš„`prototype`å¯¹è±¡ã€‚
3. è®©å‡½æ•°çš„`this`æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰
4. åˆ¤æ–­å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œå¦‚æœæ˜¯å€¼ç±»å‹ï¼Œè¿”å›åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±è¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ã€‚

```js
// new æ“ä½œç¬¦çš„å®ç°
function newOperator(ctor) {
  if (typeof ctor !== "function") {
    throw "newOperator function the first param must be a function";
  }
  newOperator.target = ctor;
  var newObj = Object.create(ctor.prototype);
  var argsArr = [].slice.call(arguments, 1);
  var ctorReturnResult = ctor.apply(newObj, argsArr);
  var isObject =
    typeof ctorReturnResult === "object" && ctorReturnResult !== null;
  var isFunction = typeof ctorReturnResult === "function";
  if (isObject || isFunction) {
    return ctorReturnResult;
  }
  return newObj;
}
```

### ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾ã€å˜é‡æå‡

`ä½œç”¨åŸŸ`è´Ÿè´£æ”¶é›†å’Œç»´æŠ¤ç”±æ‰€æœ‰å£°æ˜çš„æ ‡è¯†ç¬¦ï¼ˆå˜é‡ï¼‰ç»„æˆçš„ä¸€ç³»åˆ—æŸ¥è¯¢ï¼Œå¹¶å®æ–½ä¸€å¥—éå¸¸ä¸¥æ ¼çš„è§„åˆ™ï¼Œç¡®å®šå½“å‰æ‰§è¡Œçš„ä»£ç å¯¹è¿™äº›æ ‡è¯†ç¬¦çš„è®¿é—®æƒé™ã€‚(å…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸ)ã€‚ ä½œç”¨åŸŸé“¾å°±æ˜¯ä»å½“å‰ä½œç”¨åŸŸå¼€å§‹ä¸€å±‚ä¸€å±‚å‘ä¸Šå¯»æ‰¾æŸä¸ªå˜é‡ï¼Œç›´åˆ°æ‰¾åˆ°å…¨å±€ä½œç”¨åŸŸè¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œå°±å®£å¸ƒæ”¾å¼ƒã€‚è¿™ç§ä¸€å±‚ä¸€å±‚çš„å…³ç³»ï¼Œå°±æ˜¯`ä½œç”¨åŸŸé“¾`ã€‚

### ç»§æ‰¿(å« es6)ã€å¤šç§ç»§æ‰¿æ–¹å¼

```js
function Animal(name) {
  // å±æ€§
  this.name = name || "Animal";
  // å®ä¾‹æ–¹æ³•
  this.sleep = function () {
    console.log(this.name + "æ­£åœ¨ç¡è§‰ï¼");
  };
}
// åŸå‹æ–¹æ³•
Animal.prototype.eat = function (food) {
  console.log(this.name + "æ­£åœ¨åƒï¼š" + food);
};
```

ï¼ˆ1ï¼‰ç¬¬ä¸€ç§æ˜¯ä»¥`åŸå‹é“¾çš„æ–¹å¼æ¥å®ç°ç»§æ‰¿`ï¼Œä½†æ˜¯è¿™ç§å®ç°æ–¹å¼å­˜åœ¨çš„ç¼ºç‚¹æ˜¯ï¼Œåœ¨åŒ…å«æœ‰å¼•ç”¨ç±»å‹çš„æ•°æ®æ—¶ï¼Œä¼šè¢«æ‰€æœ‰çš„å®ä¾‹å¯¹è±¡æ‰€å…±äº«ï¼Œå®¹æ˜“é€ æˆä¿®æ”¹çš„æ··ä¹±ã€‚è¿˜æœ‰å°±æ˜¯åœ¨åˆ›å»ºå­ç±»å‹çš„æ—¶å€™ä¸èƒ½å‘è¶…ç±»å‹ä¼ é€’å‚æ•°ã€‚

```js
// åŸå‹é“¾ç»§æ‰¿
function Cat() {}
Cat.prototype = new Animal("å°é»„"); // ç¼ºç‚¹ æ— æ³•å®ç°å¤šç»§æ‰¿ æ¥è‡ªåŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«
Cat.prototype.name = "cat";
```

ï¼ˆ2ï¼‰ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨`å€Ÿç”¨æ„é€ å‡½æ•°`çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ˜¯é€šè¿‡åœ¨å­ç±»å‹çš„å‡½æ•°ä¸­è°ƒç”¨è¶…ç±»å‹çš„æ„é€ å‡½æ•°æ¥å®ç°çš„ï¼Œè¿™ä¸€ç§æ–¹æ³•è§£å†³äº†ä¸èƒ½å‘è¶…ç±»å‹ä¼ é€’å‚æ•°çš„ç¼ºç‚¹ï¼Œä½†æ˜¯å®ƒå­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ— æ³•å®ç°å‡½æ•°æ–¹æ³•çš„å¤ç”¨ï¼Œå¹¶ä¸”è¶…ç±»å‹åŸå‹å®šä¹‰çš„æ–¹æ³•å­ç±»å‹ä¹Ÿæ²¡æœ‰åŠæ³•è®¿é—®åˆ°ã€‚

```js
// å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿
function Cat() {
  Animal.call(this, "å°é»„");
  // ç¼ºç‚¹ åªèƒ½ç»§æ‰¿çˆ¶ç±»å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚
}
```

ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ–¹å¼æ˜¯`ç»„åˆç»§æ‰¿`ï¼Œç»„åˆç»§æ‰¿æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°ç»„åˆèµ·æ¥ä½¿ç”¨çš„ä¸€ç§æ–¹å¼ã€‚é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°çš„æ–¹å¼æ¥å®ç°ç±»å‹çš„å±æ€§çš„ç»§æ‰¿ï¼Œé€šè¿‡å°†å­ç±»å‹çš„åŸå‹è®¾ç½®ä¸ºè¶…ç±»å‹çš„å®ä¾‹æ¥å®ç°æ–¹æ³•çš„ç»§æ‰¿ã€‚è¿™ç§æ–¹å¼è§£å†³äº†ä¸Šé¢çš„ä¸¤ç§æ¨¡å¼å•ç‹¬ä½¿ç”¨æ—¶çš„é—®é¢˜ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯ä»¥è¶…ç±»å‹çš„å®ä¾‹æ¥ä½œä¸ºå­ç±»å‹çš„åŸå‹ï¼Œæ‰€ä»¥è°ƒç”¨äº†ä¸¤æ¬¡è¶…ç±»çš„æ„é€ å‡½æ•°ï¼Œé€ æˆäº†å­ç±»å‹çš„åŸå‹ä¸­å¤šäº†å¾ˆå¤šä¸å¿…è¦çš„å±æ€§ã€‚

ï¼ˆ4ï¼‰ç¬¬å››ç§æ–¹å¼æ˜¯`åŸå‹å¼ç»§æ‰¿`ï¼ŒåŸå‹å¼ç»§æ‰¿çš„ä¸»è¦æ€è·¯å°±æ˜¯åŸºäºå·²æœ‰çš„å¯¹è±¡æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œå®ç°çš„åŸç†æ˜¯ï¼Œå‘å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªä»¥è¿™ä¸ªå¯¹è±¡ä¸ºåŸå‹çš„å¯¹è±¡ã€‚è¿™ç§ç»§æ‰¿çš„æ€è·¯ä¸»è¦ä¸æ˜¯ä¸ºäº†å®ç°åˆ›é€ ä¸€ç§æ–°çš„ç±»å‹ï¼Œåªæ˜¯å¯¹æŸä¸ªå¯¹è±¡å®ç°ä¸€ç§ç®€å•ç»§æ‰¿ï¼ŒES5 ä¸­å®šä¹‰çš„ Object.create() æ–¹æ³•å°±æ˜¯åŸå‹å¼ç»§æ‰¿çš„å®ç°ã€‚ç¼ºç‚¹ä¸åŸå‹é“¾æ–¹å¼ç›¸åŒã€‚

```js
function object(o){
	function F(){}
	F.prototype = o;
	return new F();
}
```



ï¼ˆ5ï¼‰ç¬¬äº”ç§æ–¹å¼æ˜¯`å¯„ç”Ÿå¼ç»§æ‰¿`ï¼Œå¯„ç”Ÿå¼ç»§æ‰¿çš„æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œé€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå¤åˆ¶ä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬ï¼Œç„¶åå¯¹è±¡è¿›è¡Œæ‰©å±•ï¼Œæœ€åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªæ‰©å±•çš„è¿‡ç¨‹å°±å¯ä»¥ç†è§£æ˜¯ä¸€ç§ç»§æ‰¿ã€‚è¿™ç§ç»§æ‰¿çš„ä¼˜ç‚¹å°±æ˜¯å¯¹ä¸€ä¸ªç®€å•å¯¹è±¡å®ç°ç»§æ‰¿ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡ä¸æ˜¯æˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»å‹æ—¶ã€‚ç¼ºç‚¹æ˜¯æ²¡æœ‰åŠæ³•å®ç°å‡½æ•°çš„å¤ç”¨ã€‚

```js
function createAnother(original){
	var clone = object(original);//é€šè¿‡è°ƒç”¨objectå‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
	clone.sayHi = function(){//ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºè¿™ä¸ªå¯¹è±¡
		alert("hi");
	};
	return clone;//è¿”å›è¿™ä¸ªå¯¹è±¡
}
```

ï¼ˆ6ï¼‰ç¬¬å…­ç§æ–¹å¼æ˜¯`å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿`ï¼Œç»„åˆç»§æ‰¿çš„ç¼ºç‚¹å°±æ˜¯ä½¿ç”¨è¶…ç±»å‹çš„å®ä¾‹åšä¸ºå­ç±»å‹çš„åŸå‹ï¼Œå¯¼è‡´æ·»åŠ äº†ä¸å¿…è¦çš„åŸå‹å±æ€§ã€‚å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿çš„æ–¹å¼æ˜¯ä½¿ç”¨è¶…ç±»å‹çš„åŸå‹çš„å‰¯æœ¬æ¥ä½œä¸ºå­ç±»å‹çš„åŸå‹ï¼Œè¿™æ ·å°±é¿å…äº†åˆ›å»ºä¸å¿…è¦çš„å±æ€§ã€‚

```js
function extend(subClass,superClass){
	var prototype = object(superClass.prototype);//åˆ›å»ºå¯¹è±¡
	prototype.constructor = subClass;//å¢å¼ºå¯¹è±¡
	subClass.prototype = prototype;//æŒ‡å®šå¯¹è±¡
}
```



### ç±»å‹è½¬æ¢

å¤§å®¶éƒ½çŸ¥é“ JS ä¸­åœ¨ä½¿ç”¨è¿ç®—ç¬¦å·æˆ–è€…å¯¹æ¯”ç¬¦æ—¶ï¼Œä¼šè‡ªå¸¦éšå¼è½¬æ¢ï¼Œè§„åˆ™å¦‚ä¸‹:

-ã€\*ã€/ã€% ï¼šä¸€å¾‹è½¬æ¢æˆæ•°å€¼åè®¡ç®—

+ï¼š

- æ•°å­— + å­—ç¬¦ä¸² = å­—ç¬¦ä¸²ï¼Œ è¿ç®—é¡ºåºæ˜¯ä»å·¦åˆ°å³

- æ•°å­— + å¯¹è±¡ï¼Œ ä¼˜å…ˆè°ƒç”¨å¯¹è±¡çš„ valueOf -> toString

- æ•°å­— + boolean/null -> æ•°å­—

- æ•°å­— + undefined -> NaN

- [1].toString() === '1'  å†…éƒ¨è°ƒç”¨ .join æ–¹æ³•

- {}.toString() === '[object object]'

- NaN !== NaN ã€+undefined ä¸º NaN

### Object.is()ä¸æ¯”è¾ƒæ“ä½œç¬¦`==`ã€`===`çš„åŒºåˆ«ï¼Ÿ

- `==`ä¼šå…ˆè¿›è¡Œç±»å‹è½¬æ¢å†æ¯”è¾ƒ
- `===`æ¯”è¾ƒæ—¶ä¸ä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼Œç±»å‹ä¸åŒåˆ™ç›´æ¥è¿”å› false
- `Object.is()`åœ¨`===`åŸºç¡€ä¸Šç‰¹åˆ«å¤„ç†äº†`NaN`,`-0`,`+0`,ä¿è¯-0 ä¸+0 ä¸ç›¸ç­‰ï¼Œä½† NaN ä¸ NaN ç›¸ç­‰

#### `==`æ“ä½œç¬¦çš„å¼ºåˆ¶ç±»å‹è½¬æ¢è§„åˆ™

- å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ä¹‹åå†è¿›è¡Œæ¯”è¾ƒã€‚
- å…¶ä»–ç±»å‹å’Œå¸ƒå°”ç±»å‹ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒï¼Œå…ˆå°†å¸ƒå°”å€¼è½¬æ¢ä¸ºæ•°å­—åï¼Œå†åº”ç”¨å…¶ä»–è§„åˆ™è¿›è¡Œæ¯”è¾ƒã€‚
- null å’Œ undefined ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒï¼Œç»“æœä¸ºçœŸã€‚å…¶ä»–å€¼å’Œå®ƒä»¬è¿›è¡Œæ¯”è¾ƒéƒ½è¿”å›å‡å€¼ã€‚
- å¯¹è±¡å’Œéå¯¹è±¡ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒï¼Œå¯¹è±¡å…ˆè°ƒç”¨ ToPrimitive æŠ½è±¡æ“ä½œåï¼Œå†è¿›è¡Œæ¯”è¾ƒã€‚
- å¦‚æœä¸€ä¸ªæ“ä½œå€¼ä¸º NaN ï¼Œåˆ™ç›¸ç­‰æ¯”è¾ƒè¿”å› falseï¼ˆ NaN æœ¬èº«ä¹Ÿä¸ç­‰äº NaN ï¼‰ã€‚
- å¦‚æœä¸¤ä¸ªæ“ä½œå€¼éƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™æ¯”è¾ƒå®ƒä»¬æ˜¯ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ç›¸ç­‰æ“ä½œç¬¦è¿”å› trueï¼Œå¦åˆ™ï¼Œè¿”å› falseã€‚

![img](https://img-blog.csdnimg.cn/img_convert/d5175667072fe77e2182f89306bcdb77.webp?x-oss-process=image/format,png)

### ES6

1. æ–°å¢ Symbol ç±»å‹ è¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œç”¨æ¥å®šä¹‰ç‹¬ä¸€æ— äºŒçš„å¯¹è±¡å±æ€§å;
2. const/let éƒ½æ˜¯ç”¨æ¥å£°æ˜å˜é‡,ä¸å¯é‡å¤å£°æ˜ï¼Œå…·æœ‰å—çº§ä½œç”¨åŸŸã€‚å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œä¸å­˜åœ¨å˜é‡æå‡ã€‚(const ä¸€èˆ¬ç”¨äºå£°æ˜å¸¸é‡);
3. å˜é‡çš„è§£æ„èµ‹å€¼(åŒ…å«æ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ã€æ•°å­—åŠå¸ƒå°”å€¼,å‡½æ•°å‚æ•°),å‰©ä½™è¿ç®—ç¬¦(...rest);
4. æ¨¡æ¿å­—ç¬¦ä¸²(`${data}`);
5. `...`æ‰©å±•è¿ç®—ç¬¦(æ•°ç»„ã€å¯¹è±¡);;
6. ç®­å¤´å‡½æ•°;
7. Set å’Œ Map æ•°æ®ç»“æ„;
8. Proxy/Reflect;
9. Promise;
10. async å‡½æ•°;
11. Class;
12. Module è¯­æ³•(import/export)ã€‚

### let/const

> `const`å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ https://es6.ruanyifeng.com/#docs/let

var åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„å˜é‡ä¼šå˜æˆå…¨å±€å˜é‡

letã€const å’Œ var çš„åŒºåˆ«

- ä¸å…è®¸é‡å¤å£°æ˜

- ä¸å­˜åœ¨å˜é‡æå‡

  ```js
  // var çš„æƒ…å†µ
  console.log(foo); // è¾“å‡ºundefined
  var foo = 2;

  // let çš„æƒ…å†µ
  console.log(bar); // æŠ¥é”™ReferenceError
  let bar = 2;
  ```

- æš‚æ—¶æ€§æ­»åŒºï¼ˆä¸èƒ½åœ¨æœªå£°æ˜ä¹‹å‰ä½¿ç”¨ï¼‰

  > æ³¨æ„æš‚æ—¶æ€§æ­»åŒºå’Œä¸å­˜åœ¨å˜é‡æå‡ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿

  åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨`let`å‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€œç»‘å®šâ€ï¼ˆbindingï¼‰è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ã€‚

  ```js
  var tmp = 123; // å£°æ˜äº† tmp

  if (true) {
    tmp = "abc"; // ReferenceError
    let tmp;
  }
  ```

- å—çº§ä½œç”¨åŸŸï¼šç”¨ let å’Œ const å£°æ˜çš„å˜é‡ï¼Œåœ¨è¿™ä¸ªå—ä¸­ä¼šå½¢æˆå—çº§ä½œç”¨åŸŸ

  **es5 åªæœ‰å‡½æ•°ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸ**

  IIFE `ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼`

  ```js
  // IIFE å†™æ³•
  (function () {
    var tmp = ...;
    ...
  }());
  
  // å—çº§ä½œç”¨åŸŸå†™æ³•
  {
    let tmp = ...;
    ...
  }
  ```

  ```js
  // å‡½æ•°å£°æ˜
  function a() {}
  // å‡½æ•°è¡¨è¾¾å¼
  const b = function () {};
  ```

### ES6 çš„ä¸€äº›å«æ³•

- reset å‚æ•°

  ```js
  function add(...values) {
    let sum = 0;

    for (var val of values) {
      sum += val;
    }

    return sum;
  }

  add(2, 5, 3); // 10
  ```

- æ‰©å±•è¿ç®—ç¬¦

  ```js
  console.log(...[1, 2, 3]);
  // 1 2 3

  const b = { ...{ a: "2", b: "3" } };
  ```

- `?.` å¯é€‰é“¾è¿ç®—ç¬¦

  > å·¦ä¾§çš„å¯¹è±¡æ˜¯å¦ä¸º`null`æˆ–`undefined`ã€‚å¦‚æœæ˜¯çš„ï¼Œå°±ä¸å†å¾€ä¸‹è¿ç®—ï¼Œè€Œæ˜¯è¿”å›`undefined`

  ```js
  a?.b;
  // ç­‰åŒäº
  a == null ? undefined : a.b;
  // æ³¨æ„ undefined == null ==> true
  ```

- `??` Null åˆ¤æ–­è¿ç®—ç¬¦

> https://es6.ruanyifeng.com/#docs/operator#Null-%E5%88%A4%E6%96%AD%E8%BF%90%E7%AE%97%E7%AC%A6

```js
const headerText = response.settings.headerText ?? "Hello, world!";
const animationDuration = response.settings.animationDuration ?? 300;
const showSplashScreen = response.settings.showSplashScreen ?? true;
```

ä½†å·¦ä¾§çš„ä¸º `undefined`æˆ–è€…`null`æ˜¯å°±è¿”å›å³è¾¹çš„ï¼Œå¦åˆ™å°±ç›´æ¥è¿”å›å·¦è¾¹çš„

### ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«

1. ç®­å¤´å‡½æ•°æ²¡æœ‰`this`ï¼Œ`this`æ˜¯ç»§æ‰¿äºå½“å‰çš„ä¸Šä¸‹æ–‡ï¼Œä¸èƒ½é€šè¿‡`call`,`apply`,`bind`å»æ”¹å˜ this
2. ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ `arguments` å¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®å¤–å›´å‡½æ•°çš„ `arguments `å¯¹è±¡
3. ä¸èƒ½é€šè¿‡` new` å…³é”®å­—è°ƒç”¨(ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°)ï¼ŒåŒæ ·ä¹Ÿæ²¡æœ‰ `new.target` å’ŒåŸå‹

## vue

vue2 æ˜¯é€šè¿‡`Object.defineProperty`æ¥å®ç°å“åº”å¼çš„ï¼Œæ‰€ä»¥å°±ä¼šæœ‰ä¸€äº›ç¼ºé™·

1. å½“ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªé”®å€¼å±æ€§æ—¶ï¼Œå½“è¿™ä¸ªé”®å€¼æ²¡æœ‰åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œvue ä¸èƒ½åšå“åº”å¼å¤„ç†
2. ä½†ç›´æ¥ä¿®æ”¹æ•°ç»„çš„æŸä¸€é¡¹ï¼ˆ`arr[index]='xxx'`ï¼‰vue ä¸èƒ½åšå“åº”å¼å¤„ç†

å¯ç”¨ä¸‹é¢çš„è§£å†³å“åº”å¼

1. Vue.set ==> this.$set(å¯¹è±¡\æ•°ç»„ï¼Œ key å€¼ã€indexï¼Œ value)

2. ä¿®æ”¹æ•°ç»„`length`, è°ƒç”¨æ•°æ®çš„ `splice` æ–¹æ³•

### vue ç”Ÿå‘½å‘¨æœŸ

```js
beforeCreate å®ä¾‹åŒ–ä¹‹å‰è¿™é‡Œèƒ½æ‹¿åˆ°thisï¼Œä½†æ˜¯è¿˜ä¸èƒ½æ‹¿åˆ°dataé‡Œé¢çš„æ•°æ®
created  å®ä¾‹åŒ–ä¹‹å
beforeMount()
mounted() $el
beforeUpdate
updated

beforeDestroy æ¸…é™¤å®šæ—¶/ç§»é™¤ç›‘å¬äº‹ä»¶
destroyed

// è¢«keep-alive åŒ…è£¹çš„
// keep-alive æ ‡ç­¾ include exclude max
activated() {},
deactivated() {},

// çˆ¶å­
çˆ¶beforeCreate->çˆ¶created->çˆ¶beforeMount->å­beforeCreate->å­created->å­beforeMount->å­mounted->çˆ¶mountedã€‚

// ç¦»å¼€é¡µé¢ï¼šå®ä¾‹é”€æ¯ --> DOMå¸è½½
parent  beforeDestroy
child   beforeDestroy
child   destroyed
parent  destroyed
```

### åŠ¨æ€ç»„ä»¶

```js
// component åŠ¨æ€ç»„ä»¶ï¼Œé€šè¿‡isè®¾ç½®è¦æ˜¾ç¤ºçš„ç»„ä»¶
<component is="UserInfo" >
```

### é€’å½’ç»„ä»¶

å°±æ˜¯ç»™ç»„ä»¶è®¾ç½®`name`ï¼Œä¹‹åå°±å¯ä»¥åœ¨å½“å‰ç»„ä»¶å»é€’å½’ä½¿ç”¨ç»„ä»¶

### Vue ç»„ä»¶é—´çš„ä¼ å€¼çš„å‡ ç§æ–¹å¼

```js
// Vueç»„ä»¶é—´çš„ä¼ å€¼çš„å‡ ç§æ–¹å¼
1. props/emit
2. $attrs/$listeners // $attrs é™¤äº†çˆ¶çº§ä½œç”¨åŸŸ propsã€classã€style ä¹‹å¤–çš„å±æ€§
// $listeners çˆ¶ç»„ä»¶é‡Œé¢çš„æ‰€æœ‰çš„ç›‘å¬æ–¹æ³•
3. $refs/$parent/$children/$root/
4. vuex
5. äº‹ä»¶æ€»çº¿ï¼Œé€šè¿‡new Vueå»å®ç° / mitt <==> vue3
6. provide/inject
    // çˆ¶ç»„ä»¶
    props: {},
    provide() {
        name: this.name,
        user: this.user
    }
    // å­ç»„ä»¶
    props: {},
    inject: ['user']
7. æœ¬åœ°å­˜å‚¨ã€å…¨å±€å˜é‡
```

### watchã€mixinsã€ç»„ä»¶é¡ºåºã€ç»„ä»¶é…ç½®

```js
export default {
  name: "MyComponentName",
  mixins: [tableMixin],
  components: {},
  inject: ["xxx"],
  // props: ['value', 'visible'],
  props: {
    id: String,
    type: {
      // required: true,
      type: String,
      default: "warning",
      validator(val) {
        return ["primary", "warning", "danger", "success", "info"].includes(
          val
        );
      },
    },
    list: {
      type: Array,
      default: () => [],
    },
  },
  data() {
    return {
      name: "å¼ ä¸‰",
      user: { name: "å¼ ä¸‰", age: 18 },
      loading: true,

      // vue2
      obj: {
        name: "æå››~",
      },
      // vue2 ä¼šè¿›è¡Œæ·±åº¦åˆå¹¶
      // obj  {"name":"æå››~","age":19}

      // vue3 { name: "æå››~" }
    };
  },
  // provide ä¸æ”¯æŒå“åº”å¼ï¼Œæƒ³æ”¯æŒå“åº”å¼çš„è¯æˆ‘ä»¬è¦ä¼ å¯¹è±¡
  provide() {
    return {
      userName: this.name,
      user: this.user,
    };
  },
  computed: {
    // fullName() {
    //   return 'xxxxx'
    // }
    fullName: {
      get() {
        return this.$store.state.userName;
        // return 'æå››'
      },
      set(val) {
        this.$store.commit("SET_NAME", val);
      },
    },
  },

  watch: {
    // name(value) {
    //   this.handlerName()
    // }
    // name: {
    //   immediate: true,
    //   deep: true, //
    //   handler(val, oldValue) {
    //     this.handlerName()
    //   },
    // },
    // this.obj.name = 'xxxx' è¿™æ ·ä¸ä¼šæ‰§è¡Œ
    // this.obj = {name: 'xxx'} è¿™æ ·æ‰ä¼šæ‰§è¡Œ
    // obj(value) {
    //   console.log(' value: ', value)
    // }
    //  å’Œä¸Šé¢ç­‰ä»·
    // obj: {
    //   handler(value) {
    //     console.log(" value: ", value)
    //   },
    // },
    // this.obj.name = 'xxxx' è¿™æ ·å»ä¿®æ”¹ä¹Ÿèƒ½ç›‘å¬
    // obj: {
    //   deep: true, // æ·±åº¦ç›‘å¬
    //   immediate: true, // ç¬¬ä¸€æ¬¡å°±ç”¨æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨ created çš„æ—¶å€™ä¼šæ‰§è¡Œ handler
    //   handler(value) {
    //     console.log(" value: ", value)
    //   },
    // },
    //
    // obj: {
    //   deep: true, // æ·±åº¦ç›‘å¬
    //   immediate: true, // ç¬¬ä¸€æ¬¡å°±ç”¨æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨ created çš„æ—¶å€™ä¼šæ‰§è¡Œ handler
    //   handler: 'handlerName',
    // },
    // ==ã€‹
    // obj: 'handlerName'
    // '$route.path': {},
    // 'obj.a' : {}
  },

  beforeCreate() {
    console.log("this", this);
  },
  mounted() {
    // this.handlerName()
    this.fullName = "xxxx";

    //  this.fullName 'æå››'
  },

  methods: {
    handlerName() {
      this.obj.name = "xxxx";
    },
  },
};
```

### æŒ‡ä»¤

å¸¸ç”¨æŒ‡ä»¤

- `v-show` `dispaly none` çš„åˆ‡æ¢

- `v-if`/`v-else`

- `v-html `

- `v-text`

- `v-for` (vue2 `v-for`æ¯”`v-if`ä¼˜å…ˆçº§é«˜ï¼Œvu3`v-if`ä¼˜å…ˆçº§æ¯”`v-for`é«˜ )

- `v-cloak` ` [v-cloak] {dispaly:none}`

- `v-once` é™æ€å†…å®¹

- `v-bind `=> `:` `v-on` => `@`

  ```html
  <!--- å¯ä»¥ç›´æ¥ v-bind="object" v-on="object" -->
  <Child v-bind="$attrs" v-on="$listeners"></Child>
  ```

- v-model

  ```html
  <el-input v-model="keyword"></el-input>
  <!--- ç­‰ä»·ä¸‹é¢è¿™ä¸ª -->
  <el-input :value="keyword" @input="keyword = $event"></el-input>
  ```

```js
Vue.directive("æŒ‡ä»¤å", {
  // ç”Ÿå‘½å‘¨æœŸ
  // åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ã€‚åœ¨è¿™é‡Œå¯ä»¥è¿›è¡Œä¸€æ¬¡æ€§çš„åˆå§‹åŒ–è®¾ç½®ã€‚
  bind(el, binding, vnode, oldVnode) {
    //
    // binging.value æ‹¿åˆ°æŒ‡ä»¤å€¼
    // binding.modifiers ä¿®é¥°ç¬¦å¯¹è±¡
  },
  // è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ (ä»…ä¿è¯çˆ¶èŠ‚ç‚¹å­˜åœ¨ï¼Œä½†ä¸ä¸€å®šå·²è¢«æ’å…¥æ–‡æ¡£ä¸­)
  inserted() {},
  update() {},
  componentUpdated() {},
  // åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨
  unbind() {},
});

// é»˜è®¤ç»‘å®š bind update çš„ç”Ÿå‘½å‘¨æœŸ
Vue.directive("æŒ‡ä»¤å", function (el, binding, vnode, oldVnode) {});
```

### ä¿®é¥°ç¬¦

- .lazyã€.numberã€.trimã€.enterã€.preventã€.self

- `.sync`

  ```html
  <Dialog  :visible.sync="visible"></Child>
  <!--- ç­‰ä»·ä¸‹é¢è¿™ä¸ª -->
  <Dialog  :visible="visible" @update:visible="visible = $event"></Child>
  ```

### scoped

åŠ äº† scoped å°±åªä½œç”¨äºå½“å‰ç»„ä»¶

```html
<style scoped></style>
```

æ¸²æŸ“è§„åˆ™

```
.a .b {}  ==> .a  .b[data-v-xx]{}
.a /deep/ .b {} ==> .a[data-v-xxx] .b {}
.a >>> .b {} ==> .a[data-v-xxx] .b {}
.a ::v-deep .b {} ==> .a[data-v-xxx] .b {}
```

### `vue-router`

```js
// å…¨å±€è·¯ç”±å®ˆå«
router.beforeEach((to, from, next) => {})
router.afterEach((to, from) => {})

new VueRouter({
    mode: 'hash', // hash | history | abstract
    // æ»šåŠ¨ä½ç½®
    scrollBehavior(to, from, savedPosition) {
       if (savedPosition) return savedPosition
       return { y: 0 }
	},
    routes: [
        {
            path: '/',
            // è·¯ç”±ç‹¬äº«å®ˆå«
            beforeEnter(to, from, next) {}
        }
    ]
})

// ç»„ä»¶å†…çš„è·¯ç”±
beforeRouteEnter(to, from, next) {}
beforeRouteUpdate(to, from, next) {}
beforeRouteLeave(to, from, next) {}

// è·³è½¬
this.$router.push({name: '', path: '', query: {}})
// è·¯ç”±ä¿¡æ¯
this.$route.query this.$route.params
```

### `vuex`

state getters mutations actions modules

```js
// state
this.$store.state.userInfo;
// getters
this.$store.getters.userInfo;

// mutations
this.$store.commit("SET_USER_INFO", "ä¼ é€’æ•°æ®");

// actions
this.$store.dispatch("logout").then((res) => {});

// -----------------------------------
// modules > user
// namespaced: true,

// state æ‹¿ name
this.$store.state.user.avatar;
// getters
this.$store.getters.user.avatar;

// mutations
this.$store.commit("user/SET_TOKEN", "ä¼ é€’æ•°æ®");

// actions
this.$store.dispatch("user/login").then((res) => {});

// -----------------------------------
// modules > user
// namespaced: false,

// state æ‹¿ name
this.$store.state.user.avatar;
// getters
this.$store.getters.user.avatar;

// mutations
this.$store.commit("SET_TOKEN", "ä¼ é€’æ•°æ®");

// actions
this.$store.dispatch("login").then((res) => {});
```

è¾…åŠ©å‡½æ•°

```js
mapState, mapGetters, mapMutations, mapActions;
```

## vue3

> [Vue3 çš„ 8 ç§å’Œ Vue2 çš„ 12 ç§ç»„ä»¶é€šä¿¡ï¼Œå€¼å¾—æ”¶è—](https://juejin.cn/post/6999687348120190983)
>
> [èŠä¸€èŠ Vue3 çš„ 9 ä¸ªçŸ¥è¯†ç‚¹](https://juejin.cn/post/7026249448233631752)

**Vue3 æœ‰å“ªäº›å˜åŒ–**

- æ–°å¢äº†ä¸‰ä¸ªç»„ä»¶ï¼š`Fragment` æ”¯æŒå¤šä¸ªæ ¹èŠ‚ç‚¹ã€`Suspense` å¯ä»¥åœ¨ç»„ä»¶æ¸²æŸ“ä¹‹å‰çš„ç­‰å¾…æ—¶é—´æ˜¾ç¤ºæŒ‡å®šå†…å®¹ã€`Teleport` å¯ä»¥è®©å­ç»„ä»¶èƒ½å¤Ÿåœ¨è§†è§‰ä¸Šè·³å‡ºçˆ¶ç»„ä»¶(å¦‚çˆ¶ç»„ä»¶ overflow:hidden)
- æ–°å¢æŒ‡ä»¤ `v-memo`ï¼Œå¯ä»¥ç¼“å­˜ html æ¨¡æ¿ï¼Œæ¯”å¦‚ v-for åˆ—è¡¨ä¸ä¼šå˜åŒ–çš„å°±ç¼“å­˜ï¼Œç®€å•è¯´å°±æ˜¯ç”¨å†…å­˜æ¢æ—¶é—´
- æ”¯æŒ `Tree-Shaking`ï¼Œä¼šåœ¨æ‰“åŒ…æ—¶å»é™¤ä¸€äº›æ— ç”¨ä»£ç ï¼Œæ²¡æœ‰ç”¨åˆ°çš„æ¨¡å—ï¼Œä½¿å¾—ä»£ç æ‰“åŒ…ä½“ç§¯æ›´å°
- æ–°å¢ `Composition API` å¯ä»¥æ›´å¥½çš„é€»è¾‘å¤ç”¨å’Œä»£ç ç»„ç»‡ï¼ŒåŒä¸€åŠŸèƒ½çš„ä»£ç ä¸è‡³äºåƒä»¥å‰ä¸€æ ·å¤ªåˆ†æ•£ï¼Œè™½ç„¶ Vue2 ä¸­å¯ä»¥ç”¨ minxin æ¥å®ç°å¤ç”¨ä»£ç ï¼Œä½†ä¹Ÿå­˜åœ¨é—®é¢˜ï¼Œæ¯”å¦‚æ–¹æ³•æˆ–å±æ€§åä¼šå†²çªï¼Œä»£ç æ¥æºä¹Ÿä¸æ¸…æ¥šç­‰
- ç”¨ `Proxy` ä»£æ›¿ `Object.defineProperty` é‡æ„äº†å“åº”å¼ç³»ç»Ÿï¼Œå¯ä»¥ç›‘å¬åˆ°æ•°ç»„ä¸‹æ ‡å˜åŒ–ï¼ŒåŠå¯¹è±¡æ–°å¢å±æ€§ï¼Œå› ä¸ºç›‘å¬çš„ä¸æ˜¯å¯¹è±¡å±æ€§ï¼Œè€Œæ˜¯å¯¹è±¡æœ¬èº«ï¼Œè¿˜å¯æ‹¦æˆª applyã€has ç­‰ 13 ç§æ–¹æ³•
- é‡æ„äº†è™šæ‹Ÿ DOMï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šå°†äº‹ä»¶ç¼“å­˜ã€å°† slot ç¼–è¯‘ä¸º lazy å‡½æ•°ã€ä¿å­˜é™æ€èŠ‚ç‚¹ç›´æ¥å¤ç”¨(é™æ€æå‡)ã€ä»¥åŠæ·»åŠ é™æ€æ ‡è®°ã€Diff ç®—æ³•ä½¿ç”¨ æœ€é•¿é€’å¢å­åºåˆ— ä¼˜åŒ–äº†å¯¹æ¯”æµç¨‹ï¼Œä½¿å¾—è™šæ‹Ÿ DOM ç”Ÿæˆé€Ÿåº¦æå‡ `200%`
- æ”¯æŒåœ¨ `<style></style>` é‡Œä½¿ç”¨ `v-bind`ï¼Œç»™ CSS ç»‘å®š JS å˜é‡(`color: v-bind(str)`)
- ç”¨ `setup` ä»£æ›¿äº† beforeCreate å’Œ created è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸ
- æ–°å¢äº†**å¼€å‘ç¯å¢ƒ**çš„ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Œåœ¨ç»„ä»¶æ›´æ–°æ—¶ `onRenderTracked` ä¼šè·Ÿè¸ªç»„ä»¶é‡Œæ‰€æœ‰å˜é‡å’Œæ–¹æ³•çš„å˜åŒ–ã€æ¯æ¬¡è§¦å‘æ¸²æŸ“æ—¶ `onRenderTriggered` ä¼šè¿”å›å‘ç”Ÿå˜åŒ–çš„æ–°æ—§å€¼ï¼Œå¯ä»¥è®©æˆ‘ä»¬è¿›è¡Œæœ‰é’ˆå¯¹æ€§è°ƒè¯•
- æ¯•ç«Ÿ Vue3 æ˜¯ç”¨ `TS` å†™çš„ï¼Œæ‰€ä»¥å¯¹ `TS` çš„æ”¯æŒåº¦æ›´å¥½
- Vue3 ä¸å…¼å®¹ `IE11`

### vue3 ç”Ÿå‘½å‘¨æœŸ

| é€‰é¡¹å¼ API        | Hook inside `setup` |
| ----------------- | ------------------- |
| `beforeCreate`    | Not needed\*        |
| `created`         | Not needed\*        |
| `beforeMount`     | `onBeforeMount`     |
| `mounted`         | `onMounted`         |
| `beforeUpdate`    | `onBeforeUpdate`    |
| `updated`         | `onUpdated`         |
| `beforeUnmount`   | `onBeforeUnmount`   |
| `unmounted`       | `onUnmounted`       |
| `errorCaptured`   | `onErrorCaptured`   |
| `renderTracked`   | `onRenderTracked`   |
| `renderTriggered` | `onRenderTriggered` |
| `activated`       | `onActivated`       |
| `deactivated`     | `onDeactivated`     |

### åŸºæœ¬ä»£ç 

#### main.js

```js
// main.js
import { createApp } from "vue";
import App from "./App.vue";

import HelloWorld from "./components/HelloWorld.vue";
const app = createApp(App);

// å…¨å±€ç»„ä»¶
app.component("HelloWorld", HelloWorld);

// å…¨å±€å±æ€§
// vue2.0 Vue.prototype.$http
app.config.globalProperties.$http = () => {
  console.log("http ==");
};

app.mount("#app");
```

#### App.vue

```html
<!--- App.vue  -->
<template>
  <div>
    <!-- v-model="xxx"  <==> v-model:modelValue="xxx" -->
    <!-- :value="xxx" @input="xxx = $event" -->
    <!-- value $emit('input', 'ä¼ é€’') -->

    <!-- 
      visible.sync="visible" 
      ==>
      :visible="visible" @update:visible="visible = $event"
      -->

    <!-- vue3 æŠŠ .sync å»æ‰ï¼Œ==> 
        v-model:visible="visible"
       -->

    <!--     
    <div :ref="setDivRef">
      count: {{ count }}
      <p>
        <button @click="add">+</button>
        <button @click="reduce">-</button>
      </p>
    </div>

    <ul>
      <li>å§“åï¼š{{ user.name }}</li>
      <li>å¹´é¾„ï¼š{{ user.age }}</li>
    </ul> -->

    <!-- v-model="num" -->
    <Child
      title="çˆ¶ç»„ä»¶ä¼ é€’çš„title"
      :modelValue="num"
      @update:modelValue="num = $event"
      @change="onChildChange"
      v-model:visible="visible"
      ref="childRef"
    ></Child>
    <!-- <HelloWorld></HelloWorld> -->
  </div>
</template>

<script>
  import Child from "./Child-setup.vue";
  import { reactive, ref } from "@vue/reactivity";
  import { onMounted, provide } from "@vue/runtime-core";
  export default {
    components: { Child },
    // data() {
    //   return {
    //     msg: 'å“ˆå“ˆå“ˆ',
    //   }
    // },
    setup() {
      const msg = ref("å“ˆå“ˆå“ˆ2"); // => reactive({value: å“ˆå“ˆå“ˆ2 })
      const obj = ref({ x: "xx" });
      console.log(" obj.value: ", obj.value);
      const user = reactive({ name: "å¼ ä¸‰", age: 18 });
      const count = ref(0);

      provide("count", count);
      provide("http", () => {
        console.log("$http >>>");
      });

      const add = () => {
        count.value++;
      };

      const reduce = () => {
        count.value--;
      };

      const num = ref(1);
      const visible = ref(false);

      // this.$refs.childRef x
      // refs
      // 1. ç”¨å­—ç¬¦ä¸²
      const childRef = ref(null);
      onMounted(() => {
        console.log(" childRef.value: ", childRef.value);
      });

      let divRef;
      const setDivRef = (el) => {
        console.log(" el: ", el);
        divRef = el;
      };

      return {
        msg,
        user,
        count,
        add,
        reduce,
        num,
        visible,
        childRef,
        setDivRef,
      };
    },

    methods: {
      onChildChange() {},
    },
  };
</script>

<style>
  #app {
    font-family: Avenir, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-align: center;
    color: #2c3e50;
    margin-top: 60px;
  }
</style>
```

#### Child-composition ï¼ˆç»„åˆå¼ apiï¼‰

```html
<template>
  <!-- 
  1. å¤šä¸ªç‰‡æ®µï¼Œ å¤šä¸ªæ ¹æ ‡ç­¾ 
  2. v-for v-if ä¼˜å…ˆçº§å˜åŒ– v3 v-if > v-for
-->
  <div>
    <button @click="triggerEvent">è§¦å‘äº‹ä»¶</button>

    <div>num2ï¼š{{ num2 }}</div>
    <div>countï¼š{{ count }}</div>

    modelValueï¼š{{ modelValue }}
    <button @click="add">+</button>
    <hr />
    visibleï¼š{{ visible }}
    <button @click="updateVisible">æ›´æ–°visible</button>

    <!--   -->
    <teleport to="body">
      <div v-if="visible">å¯¹è¯æ¡†</div>
    </teleport>
  </div>
</template>

<script>
  import {
    computed,
    inject,
    onActivated,
    onBeforeMount,
    onBeforeUnmount,
    onBeforeUpdate,
    onDeactivated,
    onMounted,
    onUnmounted,
    onUpdated,
    watch,
    watchEffect,
  } from "@vue/runtime-core";
  export default {
    props: {
      title: String,
      modelValue: Number,
      visible: Boolean,
    },
    // computed: {
    //   num2() {
    //     return this.modelValue * 2
    //   }
    // },
    emits: ["change", "update:modelValue", "update:visible"],
    // å‘ç”Ÿåœ¨ beforeCreate
    // attrs é™¤äº† class style,props ä¹‹å¤–çš„å±æ€§
    //

    // watch: {
    //   title: {
    //     deep: true, // æ·±åº¦ç®€å•

    //   }
    // },
    // ç»„åˆå¼API(composition),  é€‰é¡¹å¼API(options)
    setup(props, { emit, attrs, slots }) {
      console.log(" attrs: ", attrs);
      console.log(" props: ", props);

      // computed
      const num2 = computed(() => props.modelValue * 2);
      // const num2 = computed({
      //   get: () => props.modelValue * 2,
      //   set: (val) => {
      //     ssss
      //   }
      // })

      //
      const count = inject("count");
      console.log(" count: ", count);

      // watch
      // this.$watch()
      const unwatch = watch(
        () => props.modelValue,
        (newVal, oldValue) => {
          console.log(" newVal: ", newVal);
          if (newVal >= 10) {
            // å–æ¶ˆç›‘å¬
            unwatch();
          }
        },
        {
          deep: true,
          // immediate: true
        }
      );

      // è‡ªåŠ¨æ”¶é›†ä¾èµ–ï¼Œæ‰€ä»¥ä¼šåˆå§‹åŒ–çš„æ—¶å€™å°±æ‰§è¡Œä¸€æ¬¡
      watchEffect(() => {
        console.log(" props.modelValue: ", props.modelValue);
      });

      // hooks
      onBeforeMount(() => {});
      onMounted(() => {
        console.log("å“ˆå“ˆå“ˆ");
      });
      onBeforeUpdate(() => {});
      onUpdated(() => {});
      onBeforeUnmount(() => {});
      onUnmounted(() => {});

      // keep-alive
      onActivated(() => {});
      onDeactivated(() => {});

      // methods
      const triggerEvent = () => {
        emit("change", "ä¼ é€’çš„æ•°æ®");
      };

      const add = () => {
        emit("update:modelValue", props.modelValue + 1);
      };
      const updateVisible = () => {
        console.log(" props.visible: ", props.visible);
        emit("update:visible", !props.visible);
      };

      return {
        triggerEvent,
        add,
        updateVisible,
        num2,
        count,
      };
    },
    // beforeCreate() {
    //   console.log('beforeCreate')
    // },
    // created() {
    //   console.log('created')
    // },

    // beforeDestroy beforeUnmount
    // destroyed unmounted
  };
</script>
```

#### Child-setup

```html
<template>
  <div>
    <p>title: {{ title }}</p>
    <p>num2: {{ num2 }}</p>
    <p>count: {{ count }}</p>

    <div>
      modelValueï¼š{{ modelValue }}
      <button @click="add">+</button>
    </div>

    <button @click="triggerEvent">è§¦å‘äº‹ä»¶</button>

    <!-- <input type="text" v-model="inputValue"> -->
    <!--   -->
    <input type="text" :value="inputValue" @input="onInputUpdate" />

    <!-- volar -->
    <Foo></Foo>
  </div>
</template>

<!--- vue 3.2.x -->
<script setup>
  import {
    computed,
    getCurrentInstance,
    inject,
    ref,
    useAttrs,
    useSlots,
  } from "@vue/runtime-core";
  import Foo from "./foo.vue";

  // props
  const props = defineProps({
    title: String,
    modelValue: Number,
  });
  // computed
  const num2 = computed(() => props.modelValue * 2);
  const count = inject("count");

  // emit
  const emit = defineEmits(["change", "update:modelValue", "update:visible"]);
  const triggerEvent = () => {
    emit("change", "ä¼ é€’çš„æ•°æ®");
  };
  const add = () => {
    emit("update:modelValue", props.modelValue + 1);
  };

  // å‘çˆ¶ç»„ä»¶æš´éœ²è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•
  defineExpose({
    num2,
    test() {
      console.log("888");
    },
  });

  const attrs = useAttrs();
  console.log(" attrs: ", attrs);
  const solts = useSlots();

  const ctx = getCurrentInstance();

  const http = ctx.appContext.config.globalProperties.$http;
  http("xxx");

  const $http = inject("http");
  $http();

  // $ref: ref(false)

  const inputValue = ref("");

  const onInputUpdate = (event) => {
    console.log(" event: ", event);
    inputValue.value = event.target.value;
  };
</script>
```

## é¡¹ç›®ç›¸å…³

### git å¸¸ç”¨å‘½ä»¤

https://shfshanyue.github.io/cheat-sheets/git



### Webpack ä¸€äº›æ ¸å¿ƒæ¦‚å¿µï¼š

> [ã€ä¸‡å­—ã€‘é€è¿‡åˆ†æ webpack é¢è¯•é¢˜ï¼Œæ„å»º webpack5.x çŸ¥è¯†ä½“ç³»](https://juejin.cn/post/7023242274876162084)

- `Entry`ï¼šå…¥å£ï¼ŒæŒ‡ç¤º Webpack åº”è¯¥ä½¿ç”¨å“ªä¸ªæ¨¡å—ï¼Œæ¥ä½œä¸ºæ„å»ºå…¶å†…éƒ¨ ä¾èµ–å›¾(dependency graph) çš„å¼€å§‹ã€‚

- `Output`ï¼šè¾“å‡ºç»“æœï¼Œå‘Šè¯‰ Webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ bundleï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ã€‚

- `Module`ï¼šæ¨¡å—ï¼Œåœ¨ Webpack é‡Œä¸€åˆ‡çš†æ¨¡å—ï¼Œä¸€ä¸ªæ¨¡å—å¯¹åº”ç€ä¸€ä¸ªæ–‡ä»¶ã€‚Webpack ä¼šä»é…ç½®çš„ Entry å¼€å§‹é€’å½’æ‰¾å‡ºæ‰€æœ‰ä¾èµ–çš„æ¨¡å—ã€‚

- `Chunk`ï¼šä»£ç å—ï¼Œä¸€ä¸ª Chunk ç”±å¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆï¼Œç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰²ã€‚

- `Loader`ï¼šæ¨¡å—ä»£ç è½¬æ¢å™¨ï¼Œè®© webpack èƒ½å¤Ÿå»å¤„ç†é™¤äº† JSã€JSON ä¹‹å¤–çš„å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆ æ¨¡å—ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ã€‚

- `Plugin`ï¼šæ‰©å±•æ’ä»¶ã€‚åœ¨ webpack è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ä¼šå¹¿æ’­å‡ºè®¸å¤šäº‹ä»¶ï¼Œplugin å¯ä»¥ç›‘å¬è¿™äº›äº‹ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶æœºé€šè¿‡ webpack æä¾›çš„ api æ”¹å˜è¾“å‡ºç»“æœã€‚å¸¸è§çš„æœ‰ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œæ³¨å…¥ç¯å¢ƒå˜é‡ã€‚

- `Mode`ï¼šæ¨¡å¼ï¼Œå‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–

  ***

* `hash`: æ¯æ¬¡æ„å»ºçš„ç”Ÿæˆå”¯ä¸€çš„ä¸€ä¸ª hashï¼Œä¸”æ‰€æœ‰çš„æ–‡ä»¶ hash ä¸²æ˜¯ä¸€æ ·çš„

- `chunkhash`: æ¯ä¸ª**å…¥å£æ–‡ä»¶**éƒ½æ˜¯ä¸€ä¸ª chunkï¼Œæ¯ä¸ª chunk æ˜¯ç”±å…¥å£æ–‡ä»¶ä¸å…¶ä¾èµ–æ‰€æ„æˆï¼Œ**å¼‚æ­¥åŠ è½½**çš„æ–‡ä»¶ä¹Ÿè¢«è§†ä¸ºæ˜¯ä¸€ä¸ª chunk, **chunkhash**æ˜¯ç”±æ¯æ¬¡ç¼–è¯‘æ¨¡å—ï¼Œæ ¹æ®æ¨¡å—åŠå…¶ä¾èµ–æ¨¡å—æ„æˆ chunk ç”Ÿæˆå¯¹åº”çš„ chunkhash, è¿™ä¹Ÿå°±è¡¨æ˜äº†**æ¯ä¸ª chunk çš„ chunkhash å€¼**éƒ½ä¸ä¸€æ ·ï¼Œ ä¹Ÿå°±æ˜¯è¯´æ¯ä¸ª chunk éƒ½æ˜¯ç‹¬ç«‹å¼€æ¥çš„ï¼Œäº’ä¸å½±å“ï¼Œæ¯ä¸ª chunk çš„æ›´æ–°ä¸ä¼šå½±å“å…¶ä»– chunk çš„ç¼–è¯‘æ„å»º

- `contenthash`ï¼šç”±æ–‡ä»¶å†…å®¹å†³å®šï¼Œæ–‡ä»¶å˜åŒ– contenthash æ‰ä¼šå˜åŒ–ï¼Œä¸€èˆ¬é…åˆ `mini-css-extract-plugin`æ’ä»¶æå–å‡º css

  ```js
  const MiniCssExtractPlugin = require("mini-css-extract-plugin");
  const HTMLWebpackPlugin = require("html-webpack-plugin");
  
  module.exports = {
    // ...
    module: {
      rules: [
        {
          test: /\.css$/,
          use: [
            {
              // æŠŠ style-loaderæ›¿æ¢æ‰ï¼Œä¸è¦ä½¿ç”¨ style-loaderäº†
              loader: MiniCssExtractPlugin.loader,
              options: {
                outputPath: "css/",
              },
            },
            "css-loader",
          ],
        },
      ],
    },
    plugins: [
      // ....
      new MiniCssExtractPlugin({
        filename: "css/[name].[contenthash].css",
      }),
    ],
  };
  ```

### æå‡ webpack æ‰“åŒ…é€Ÿåº¦

> [ä¸€å¥—éªšæ“ä½œä¸‹æ¥ï¼Œwebpack é¡¹ç›®æ‰“åŒ…é€Ÿåº¦é£å‡ ğŸš€ã€ä½“ç§¯éª¤å‡ â†“](https://juejin.cn/post/7046616302521155614)
>
> [ç©è½¬ webpackï¼Œä½¿ä½ çš„æ‰“åŒ…é€Ÿåº¦æå‡ 90%](https://juejin.cn/post/6844904071736852487)
>
> [å¸¦ä½ æ·±åº¦è§£é” Webpack ç³»åˆ—(ä¼˜åŒ–ç¯‡)](https://juejin.cn/post/6844904093463347208)
>
> [å­¦ä¹  Webpack5 ä¹‹è·¯ï¼ˆä¼˜åŒ–ç¯‡ï¼‰- è¿‘ 7k å­—](https://juejin.cn/post/6996816316875161637)

- é€Ÿåº¦åˆ†æï¼Œå¯ä»¥ä½¿ç”¨ `speed-measure-webpack-plugin`

- æå‡åŸºç¡€ç¯å¢ƒï¼Œnodejs ç‰ˆæœ¬ï¼Œwebpack ç‰ˆæœ¬

- CDN åˆ†åŒ… `html-webpack-externals-plugin`, `externals`

- å¤šè¿›ç¨‹ã€å¤šå®ä¾‹æ„å»º `thread-loader` `HappyPack(ä¸å†ç»´æŠ¤)`

- å¤šè¿›ç¨‹å¹¶è¡Œæ„å»ºæ‰“åŒ…`uglifyjs-webpack-plugin` `terser-webpack-plugin`

- ç¼“å­˜: webpack5 å†…ç½®äº†`cache`æ¨¡å— ã€`babel-loader` çš„ `cacheDirectory` æ ‡å¿—ã€`cache-loader`, `HardSourceWebpackPlugin`

  ```js
  module.exports = {
      // webpack5å†…ç½®ç¼“å­˜
      cache: {
        type: 'filesystem', // ä½¿ç”¨æ–‡ä»¶ç¼“å­˜
      },
  }
  ```

- æ„å»ºç¼©å°èŒƒå›´ `inlude`,`exclude`

- åŠ å¿«æ–‡ä»¶æŸ¥æ‰¾é€Ÿåº¦`resolve.alias`,`resolve.extensions`, `module.noParse`

- `DllPlugin`

- `babel `é…ç½®çš„ä¼˜åŒ–

### webpack å¸¸ç”¨ loader,plugin

**loader**

- `babel-loader` å°† es6 è½¬æ¢æˆ es5 , `ts-loader`ã€`vue-loader`
- `eslint-loader`  é…ç½® `enforce: 'pre'` è¿™ä¸ªloaderæœ€å…ˆæ‰§è¡Œ
- `css-loader`ã€`style-loader`ã€`postcss-loader`ã€`less-loader`ã€`sass-loader`
- `file-loader` æŠŠæ–‡ä»¶è½¬æ¢æˆè·¯å¾„å¼•å…¥, `url-loader`ï¼ˆæ¯”`file-loader`å¤šäº†å°äºå¤šå°‘çš„èƒ½è½¬æ¢æˆ base64ï¼‰
- `image-loader`
- `svg-sprite-loader` å¤„ç† svg
- `thread-loader`  å¼€å¯å¤šè¿›ç¨‹ ï¼Œä¼šåœ¨ä¸€ä¸ªå•ç‹¬çš„ worker æ± ï¼ˆworker poolï¼‰ä¸­è¿è¡Œ
- `cache-loader` ç¼“å­˜ä¸€äº›æ€§èƒ½å¼€é”€æ¯”è¾ƒå¤§çš„ loader çš„å¤„ç†ç»“æœ

**plugin**

- `html-webpack-plugin` å°†ç”Ÿæˆçš„ cssï¼Œjs è‡ªåŠ¨æ³¨å…¥åˆ° html æ–‡ä»¶ä¸­ï¼Œèƒ½å¯¹ html æ–‡ä»¶å‹ç¼©

- `copy-webpack-plugin` æ‹·è´æŸä¸ªç›®å½•

- `clear-webpack-plugin` æ¸…ç©ºæŸä¸ªç›®å½•

- `webpack.HotModuleReplacementPlugin` çƒ­é‡è½½

- `webpack.DefinePlugin` å®šä¹‰å…¨å±€å˜é‡

- `mini-css-extract-plugin`  æå– CSS åˆ°ç‹¬ç«‹ bundle æ–‡ä»¶ã€‚ `extract-text-webpack-plugin`

- `optimize-css-assets-webpack-plugin` å‹ç¼©css  webpack5æ¨è`css-minimizer-webpack-plugin`


- `purgecss-webpack-plugin ` ä¼šå•ç‹¬æå– CSS å¹¶æ¸…é™¤ç”¨ä¸åˆ°çš„ CSSï¼ˆä¼šæœ‰é—®é¢˜æŠŠæœ‰ç”¨çš„cssåˆ é™¤ï¼‰

- `uglifyjs-webpack-plugin` âŒï¼ˆä¸æ¨èï¼‰ å‹ç¼©jsã€å¤šè¿›ç¨‹ `parallel: true`

- `terser-webpack-plugin`   å‹ç¼©jsï¼Œ å¯å¼€å¯å¤šè¿›ç¨‹å‹ç¼©ã€æ¨èä½¿ç”¨

  ```js
  module.exports = {
    optimization: {
      minimize: true,
      minimizer: [
        new TerserPlugin({
          parallel: true, // å¤šè¿›ç¨‹å‹ç¼©
        }),
      ],
    },
  };
  ```

- `HappyPack`  âŒï¼ˆä¸å†ç»´æŠ¤ï¼‰ å¯å¼€å¯å¤šè¿›ç¨‹

- `HardSourceWebpackPlugin` ç¼“å­˜


- `speed-measure-webpack-plugin` æ‰“åŒ…æ„å»ºé€Ÿåº¦åˆ†æã€æŸ¥çœ‹ç¼–è¯‘é€Ÿåº¦

- `webpack-bundle-analyzer  `æ‰“åŒ…ä½“ç§¯åˆ†æ

- `compression-webpack-plugin` gzip å‹ç¼©

  


### å‰ç«¯æ€§èƒ½ä¼˜åŒ–

> [å‰ç«¯æ€§èƒ½ä¼˜åŒ– 24 æ¡å»ºè®®ï¼ˆ2020ï¼‰](https://juejin.cn/post/6892994632968306702)

1. å‡å°‘ http è¯·æ±‚
2. ä½¿ç”¨ http2
3. é™æ€èµ„æºä½¿ç”¨ CDN
4. å°† CSS æ”¾åœ¨æ–‡ä»¶å¤´éƒ¨ï¼ŒJavaScript æ–‡ä»¶æ”¾åœ¨åº•éƒ¨
5. ä½¿ç”¨å­—ä½“å›¾æ ‡ iconfont ä»£æ›¿å›¾ç‰‡å›¾æ ‡
6. è®¾ç½®ç¼“å­˜ï¼Œå¼ºç¼“å­˜ï¼Œåå•†ç¼“å­˜
7. å‹ç¼©æ–‡ä»¶ï¼Œcss(`MiniCssExtractPlugin`),js(`UglifyPlugin`),html(`html-webpack-plugin`)æ–‡ä»¶å‹ç¼©ï¼Œæ¸…é™¤æ— ç”¨çš„ä»£ç ï¼Œ`tree-shaking`ï¼ˆéœ€è¦ es6 çš„ import æ‰æ”¯æŒï¼‰ï¼Œgzip å‹ç¼©(`compression-webpack-plugin`)
8. splitChunks åˆ†åŒ…é…ç½®ï¼Œoptimization.splitChunks æ˜¯åŸºäº [SplitChunksPlugin](https://link.juejin.cn/?target=https%3A%2F%2Fwebpack.docschina.org%2Fplugins%2Fsplit-chunks-plugin%2F) æ’ä»¶å®ç°çš„
9. å›¾ç‰‡ä¼˜åŒ–ã€å›¾ç‰‡å‹ç¼©
10. webpack æŒ‰éœ€åŠ è½½ä»£ç ï¼Œ`hash`ï¼Œ`contenthash`
11. å‡å°‘é‡æ’é‡ç»˜
12. é™ä½ css é€‰æ‹©å™¨çš„å¤æ‚æ€§

### babel

> [ä¸å®¹é”™è¿‡çš„ Babel7 çŸ¥è¯†](https://juejin.cn/post/6844904008679686152)

æ ¸å¿ƒåº“ `@babel/core`

`Polyfill` å«ç‰‡

CLI å‘½ä»¤è¡Œå·¥å…· `@babel/cli`

æ’ä»¶

é¢„è®¾ï¼šåŒ…å«äº†å¾ˆå¤šæ’ä»¶çš„ä¸€ä¸ªç»„åˆï¼Œ`@babel/preset-env` `@babel/preset-react` `@babel/preset-typescript`

**polyfill**

Babel é»˜è®¤åªè½¬æ¢æ–°çš„ JavaScript å¥æ³•ï¼ˆsyntaxï¼‰ï¼Œè€Œä¸è½¬æ¢æ–°çš„ APIï¼Œæ¯”å¦‚`Iterator`ã€`Generator`ã€`Set`ã€`Map`ã€`Proxy`ã€`Reflect`ã€`Symbol`ã€`Promise`ç­‰å…¨å±€å¯¹è±¡ï¼Œä»¥åŠä¸€äº›å®šä¹‰åœ¨å…¨å±€å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼ˆæ¯”å¦‚`Object.assign`ï¼‰éƒ½ä¸ä¼šè½¬ç ã€‚

ä¸¾ä¾‹æ¥è¯´ï¼ŒES6 åœ¨`Array`å¯¹è±¡ä¸Šæ–°å¢äº†`Array.from`æ–¹æ³•ã€‚Babel å°±ä¸ä¼šè½¬ç è¿™ä¸ªæ–¹æ³•ã€‚å¦‚æœæƒ³è®©è¿™ä¸ªæ–¹æ³•è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨`core-js`å’Œ`regenerator-runtime`(åè€…æä¾› generator å‡½æ•°çš„è½¬ç )ï¼Œä¸ºå½“å‰ç¯å¢ƒæä¾›ä¸€ä¸ªå«ç‰‡ã€‚

**`@babel/plugin-transform-runtime`**

`Babel` ä¼šä½¿ç”¨å¾ˆå°çš„è¾…åŠ©å‡½æ•°æ¥å®ç°ç±»ä¼¼ `_createClass` ç­‰å…¬å…±æ–¹æ³•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†è¢«æ·»åŠ (`inject`)åˆ°éœ€è¦å®ƒçš„æ¯ä¸ªæ–‡ä»¶ä¸­ã€‚

å¦‚æœä½ æœ‰ 10 ä¸ªæ–‡ä»¶ä¸­éƒ½ä½¿ç”¨äº†è¿™ä¸ª `class`ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€ `_classCallCheck`ã€`_defineProperties`ã€`_createClass` è¿™äº›æ–¹æ³•è¢« `inject` äº† 10 æ¬¡ã€‚è¿™æ˜¾ç„¶ä¼šå¯¼è‡´åŒ…ä½“ç§¯å¢å¤§ï¼Œæœ€å…³é”®çš„æ˜¯ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å®ƒ `inject` å¤šæ¬¡ã€‚

`@babel/plugin-transform-runtime` æ˜¯ä¸€ä¸ªå¯ä»¥é‡å¤ä½¿ç”¨ `Babel` æ³¨å…¥çš„å¸®åŠ©ç¨‹åºï¼Œä»¥èŠ‚çœä»£ç å¤§å°çš„æ’ä»¶ã€‚

```bash
npm install --save-dev @babel/plugin-transform-runtime
npm install --save @babel/runtime
```

```js
//.babelrc
{
    "presets": [
        [
            "@babel/preset-env",
            {
                "useBuiltIns": "usage", // é…ç½® polyfill åŠ¨æ€å¯¼å…¥
                "corejs": 3 // core-js@3
            }
        ]
    ],
    "plugins": [
        [
            "@babel/plugin-transform-runtime"
        ]
    ]
}
```

## æµè§ˆå™¨\ç¼–è¯‘åŸç†\åº•å±‚

### åƒåœ¾å›æ”¶æœºåˆ¶

- æ ‡è®°æ¸…é™¤ï¼š è¿›å…¥ç¯å¢ƒã€ç¦»å¼€ç¯å¢ƒ
- å¼•ç”¨è®¡æ•°ï¼ˆä¸å¸¸ç”¨ï¼‰ï¼šå€¼è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œ å½“å¼•ç”¨æ¬¡æ•°ä¸ºé›¶æ—¶ä¼šè¢«æ¸…é™¤ï¼ˆç¼ºé™·ï¼Œç›¸äº’å¼•ç”¨çš„ä¼šæœ‰é—®é¢˜ï¼‰

### ç¼“å­˜æœºåˆ¶

#### å¼ºç¼“å­˜

> å¦‚æœå‘½ä¸­å¼ºç¼“å­˜--å°±ä¸ç”¨åƒæœåŠ¡å™¨å»è¯·æ±‚

1. `Expries` è®¾ç½®æ—¶é—´ï¼Œè¿‡æœŸæ—¶é—´ `expires: Tue, 15 Oct 2019 13:30:54 GMT`

   é€šè¿‡æœ¬åœ°æ—¶é—´å’Œ expires æ¯”è¾ƒæ˜¯å¦è¿‡æœŸï¼Œå¦‚æœè¿‡æœŸäº†å°±å»æœåŠ¡å™¨è¯·æ±‚ï¼Œæ²¡æœ‰è¿‡æœŸçš„è¯å°±ç›´æ¥ä½¿ç”¨æœ¬åœ°çš„

   ç¼ºç‚¹ï¼šæœ¬åœ°æ—¶é—´å¯èƒ½ä¼šæ›´æ”¹ï¼Œ å¯¼è‡´ç¼“å­˜å‡ºé”™

2. `Cache-Control` HTTP1.1 ä¸­æ–°å¢çš„

   - max-age æœ€å¤§ç¼“å­˜å¤šå°‘æ¯«ç§’ï¼Œåˆ—å¦‚ `Cache-Control: max-age=2592000`

   - no-store (æ¯æ¬¡éƒ½è¦è¯·æ±‚ï¼Œå°±è¿åå•†ç¼“å­˜éƒ½ä¸èµ°)è¡¨ç¤ºä¸è¿›è¡Œç¼“å­˜ï¼Œç¼“å­˜ä¸­ä¸å¾—å­˜å‚¨ä»»ä½•å…³äºå®¢æˆ·ç«¯è¯·æ±‚å’ŒæœåŠ¡ç«¯å“åº”çš„å†…å®¹ã€‚æ¯æ¬¡ ç”±å®¢æˆ·ç«¯å‘èµ·çš„è¯·æ±‚éƒ½ä¼šä¸‹è½½å®Œæ•´çš„å“åº”å†…å®¹ã€‚`Cache-Control: no-store`

   - no-cacheï¼ˆé»˜è®¤å€¼ï¼‰è¡¨ç¤ºä¸ç¼“å­˜è¿‡æœŸçš„èµ„æºï¼Œç¼“å­˜ä¼šå‘æºæœåŠ¡å™¨è¿›è¡Œæœ‰æ•ˆæœŸç¡®è®¤åå¤„ç†èµ„æºï¼Œä¹Ÿè®¸ç§° ä¸º do-notserve-from-cache-without-revalidation æ›´åˆé€‚ã€‚æµè§ˆå™¨é»˜è®¤å¼€å¯çš„æ˜¯ no-cacheï¼Œå…¶ å®è¿™é‡Œä¹Ÿå¯ç†è§£ä¸ºå¼€å¯åå•†ç¼“å­˜

   - public å’Œ private

     public ä¸ private æ˜¯é’ˆå¯¹èµ„æºæ˜¯å¦èƒ½å¤Ÿè¢«ä»£ç†æœåŠ¡ç¼“å­˜è€Œå­˜åœ¨çš„ä¸€ç»„å¯¹ç«‹æ¦‚å¿µ

     å½“æˆ‘ä»¬ä¸ºèµ„æºè®¾ç½®äº† pubileï¼Œé‚£ä¹ˆå®ƒæ—¢å¯ä»¥è¢«æµè§ˆå™¨ç¼“å­˜ä¹Ÿå¯è¢«ä»£ç†æœåŠ¡å™¨ç¼“å­˜ã€‚è®¾ç½®ä¸º

     private çš„æ—¶å€™ï¼Œåˆ™è¯¥èµ„æºåªèƒ½è¢«æµè§ˆå™¨ç¼“å­˜ï¼Œå…¶ä¸­é»˜è®¤å€¼æ˜¯ privateã€‚

   - max-age å’Œ s-maxage

     s-maxage åªé€‚ç”¨äºä¾›å¤šç”¨æˆ·ä½¿ç”¨çš„å…¬å…±æœåŠ¡å™¨ä¸Š(å¦‚ CND cache)ï¼Œå¹¶åªå¯¹ public ç¼“å­˜æœ‰æ•ˆ

#### åå•†ç¼“å­˜

> éœ€è¦å‘æœåŠ¡å™¨è¯·æ±‚ï¼Œå¦‚æœæ²¡æœ‰è¿‡æœŸï¼ŒæœåŠ¡å™¨ä¼šè¿”å› 304ï¼Œ

1. **ETag å’Œ If-None-Match å”¯ä¸€æ ‡è¯†**

- æœåŠ¡å™¨å“åº” ETag å€¼ï¼Œæµè§ˆå™¨æºå¸¦çš„æ˜¯ If-None-Matchï¼ˆæºå¸¦çš„æ˜¯ä¸Šä¸€æ¬¡å“åº”çš„ ETagï¼‰ï¼ŒæœåŠ¡æ‹¿åˆ°è¿™ If-None-Match å€¼ååˆ¤æ–­è¿‡æœŸ--> æ²¡æœ‰è¿‡æœŸ 304ï¼Œå¹¶ä¸”è¿”å› ETag

  ***

  äºŒè€…çš„å€¼éƒ½æ˜¯æœåŠ¡å™¨ä¸ºæ¯ä»½èµ„æºåˆ†é…çš„å”¯ä¸€æ ‡è¯†å­—ç¬¦ä¸²ã€‚

  â€¢ æµè§ˆå™¨è¯·æ±‚èµ„æºï¼ŒæœåŠ¡å™¨ä¼šåœ¨å“åº”æŠ¥æ–‡å¤´ä¸­åŠ å…¥ ETag å­—æ®µã€‚èµ„æºæ›´æ–°çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯çš„

  ETag å€¼ä¹Ÿéšä¹‹æ›´æ–°

  â€¢ æµè§ˆå™¨å†æ¬¡è¯·æ±‚èµ„æºï¼Œä¼šåœ¨è¯·æ±‚æŠ¥æ–‡å¤´ä¸­æ·»åŠ  If-None-Match å­—æ®µï¼Œå®ƒçš„å€¼å°±æ˜¯ä¸Šæ¬¡å“åº”

  æŠ¥æ–‡ä¸­çš„ ETag å€¼ï¼ŒæœåŠ¡å™¨ä¼šå¯¹æ¯” ETag å’Œ If-None-Match çš„å€¼æ˜¯å¦ä¸€è‡´ã€‚å¦‚æœä¸ä¸€è‡´ï¼ŒæœåŠ¡

  å™¨åˆ™æ¥å—è¯·æ±‚ï¼Œè¿”å›æ›´æ–°åçš„èµ„æºï¼ŒçŠ¶æ€ç è¿”å› 200ï¼›å¦‚æœä¸€è‡´ï¼Œè¡¨æ˜èµ„æºæœªæ›´æ–°ï¼Œåˆ™è¿”å›

  çŠ¶æ€ç  304ï¼Œå¯ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯æ­¤æ—¶å“åº”å¤´ä¼šåŠ ä¸Š ETag å­—æ®µï¼Œå³ä½¿å®ƒæ²¡

  æœ‰å˜åŒ–

  ***

- **Last-Modified å’Œ If-Modified-Since æ—¶é—´æˆ³**
  ç¼ºç‚¹ï¼š æŸäº›æ–‡ä»¶ä¿®æ”¹éå¸¸é¢‘ç¹ï¼Œæ¯”å¦‚åœ¨ç§’ä»¥ä¸‹çš„æ—¶é—´å†…è¿›è¡Œä¿®æ”¹ï¼Œ(æ¯”æ–¹è¯´ 1s å†…ä¿®æ”¹äº† N æ¬¡)ï¼Œ

  If-Modified-Since å¯æŸ¥åˆ°çš„æ˜¯ç§’çº§ï¼Œè¿™ç§ä¿®æ”¹æ— æ³•åˆ¤æ–­

### é¢„ç¼–è¯‘

å››éƒ¨æ›²

1. åˆ›å»º`AO`å¯¹è±¡
2. æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œå°†å˜é‡å’Œå½¢å‚åä½œä¸º`AO`çš„å±æ€§åï¼Œå€¼ä¸º`undefined`
3. å°†å®å‚å€¼å’Œå½¢å‚å€¼ç›¸ç»Ÿä¸€
4. åœ¨å‡½æ•°ä½“é‡Œé¢æ‰¾åˆ°å‡½æ•°å£°æ˜ï¼Œå€¼èµ‹äºˆå‡½æ•°ä½“

```JS
// é¢„ç¼–è¯‘
function foo(test/* å½¢å‚ */) {
    console.log(' test: ', test) // function(){}
    var test = 2
    var str = 'bs'
    console.log(' test: ', test) // 2
    // å‡½æ•°å£°æ˜
    function test() {}
	// å‡½æ•°è¡¨è¾¾å¼
    str = function() {}
    console.log(' test: ', test) // 2
}

// é¢„ç¼–è¯‘ å››éƒ¨æ›²
// 1. åˆ›å»ºAOå¯¹è±¡
// 2. æ‰¾å½¢å‚å’Œå˜é‡å£°æ˜ï¼Œå°†å˜é‡å’Œå½¢å‚åä½œä¸ºAOçš„å±æ€§åï¼Œå€¼ä¸ºundefined
// 3. å°†å®å‚å€¼å’Œå½¢å‚å€¼ç›¸ç»Ÿä¸€
// 4. åœ¨å‡½æ•°ä½“é‡Œé¢æ‰¾åˆ°å‡½æ•°å£°æ˜ï¼Œå€¼èµ‹äºˆå‡½æ•°ä½“

// AO {
//   test: undefined
//   str: undefined
// }
// AO {
//   test: 1
//   str: undefined
// }
// AO {
//   test: 1
//   str: function() {}
// }


foo(1/*å®å‚*/)

function foo (a, b, c) {
    console.log(a)
    console.log(b)
    var a = '222'
    function a() {}
    var b = function() {}
    console.log(a)
    console.log(b)

    console.log(' a, b, c: ', a, b, c)
}
// AO {
//   a : '222',
//   b : function() {},
//   c : 3
// }
foo(1, 2, 3)

var a = 22
// let a = 22
// window.a ==> 22
```

å…¨å±€

1. åˆ›å»º GO å¯¹è±¡==window
2. å˜é‡å£°æ˜ï¼Œå°†å˜é‡ä½œä¸º GO çš„å±æ€§åï¼Œå€¼ä¸º`undefined`
3. æ‰¾åˆ°å‡½æ•°å£°æ˜ï¼Œå€¼èµ‹äºˆå‡½æ•°ä½“

### event-loop(äº‹ä»¶å¾ªç¯)

> [ä¸€æ¬¡å¼„æ‡‚Event Loopï¼ˆå½»åº•è§£å†³æ­¤ç±»é¢è¯•é—®é¢˜ï¼‰](https://juejin.cn/post/6844903764202094606)

`JS`æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸ºäº†é˜²æ­¢ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶é—´è¿‡é•¿é˜»å¡åé¢çš„ä»£ç ï¼Œæ‰€ä»¥ä¼šå…ˆå°†åŒæ­¥ä»£ç å‹å…¥æ‰§è¡Œæ ˆä¸­ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œå°†å¼‚æ­¥ä»£ç æ¨å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œå¼‚æ­¥é˜Ÿåˆ—åˆåˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå› ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—çš„æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ‰€ä»¥å¾®ä»»åŠ¡é˜Ÿåˆ—è¦ä¼˜å…ˆäºå®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»£è¡¨å°±æ˜¯ï¼Œ`Promise.then`ï¼Œ`MutationObserver`ï¼Œå®ä»»åŠ¡çš„è¯å°±æ˜¯`setImmediate setTimeout setInterval`

**MacroTaskï¼ˆå®ä»»åŠ¡ï¼‰\***

- `script`å…¨éƒ¨ä»£ç ã€`setTimeout`ã€`setInterval`ã€`setImmediate`ï¼ˆæµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒï¼Œåªæœ‰ IE10 æ”¯æŒï¼Œå…·ä½“å¯è§[`MDN`](https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWindow%2FsetImmediate)ï¼‰ã€`I/O`ã€`UI Rendering`ã€‚

**MicroTaskï¼ˆå¾®ä»»åŠ¡ï¼‰**

- `Process.nextTickï¼ˆNodeç‹¬æœ‰ï¼‰`ã€`Promise.then`ã€`Object.observe(åºŸå¼ƒ)`ã€`MutationObserver`

#### æµè§ˆå™¨ä¸­

> æ‰§è¡Œå®Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œä¼šæ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡

```js
console.log("script start");

setTimeout(function () {
  console.log("setTimeout");
}, 0);

new Promise((resolve) => {
  console.log("promise1");
  resolve();
}).then(function () {
  console.log("promise2");
});
console.log("script end");
```

æ‰§è¡Œç»“æœ

```
script start
promise1
script end
promise2
setTimeout
```

![img](C:/Users/ASUS-PC/Desktop/aaa.gif)

#### nodejs ä¸­

> åœ¨ 11 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œä¼šåœ¨æ¯ä¸ªé˜¶æ®µä¹‹åæ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡
>
> åœ¨ 11 ç‰ˆæœ¬åŠä¹‹åï¼Œä¼šæ¯æ‰§è¡Œå®Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œå°±ä¼šæ¸…ç©ºæ‰€ç”¨çš„å¾®ä»»åŠ¡ï¼ˆå’Œæµè§ˆå™¨ä¿å­˜ä¸€è‡´ï¼‰

```js
new Promise((resolve) => {
  console.log("new Promise 1");
  resolve();
}).then(() => {
  console.log("new Promise then");
});

setTimeout(() => {
  console.log("timer1");
  new Promise((resolve) => {
    console.log("timer1 new Promise");
    resolve();
  }).then(() => {
    console.log("timer1 new Promise then");
  });
  Promise.resolve().then(() => {
    console.log("timer1 Promise then");
  });
});

setTimeout(() => {
  console.log("timer2");
  Promise.resolve().then(() => {
    console.log("timer2 Promise then");
  });
});

console.log("start end");
```

åœ¨ node11 ç‰ˆæœ¬ä¹‹å‰ï¼ˆä¸åŒ…å« 11ï¼‰

```
new Promise 1
start end
new Promise then
timer1
timer1 new Promise
timer2
timer1 new Promise then
timer1 Promise then
timer2 Promise then
```

åœ¨ node11 ç‰ˆæœ¬åŠä¹‹å

```
new Promise 1
start end
new Promise then
timer1
timer1 new Promise
timer1 new Promise then
timer1 Promise then
timer2
timer2 Promise then
```

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b222442fa0904f0d956565597e1fab17~tplv-k3u1fbpfcp-zoom-1.image)



 `Node`çš„`Event loop`ä¸€å…±åˆ†ä¸º6ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªç»†èŠ‚å…·ä½“å¦‚ä¸‹ï¼š

1.  `timers`: æ‰§è¡Œ`setTimeout`å’Œ`setInterval`ä¸­åˆ°æœŸçš„`callback`ã€‚
2. `pending callback`: ä¸Šä¸€è½®å¾ªç¯ä¸­å°‘æ•°çš„`callback`ä¼šæ”¾åœ¨è¿™ä¸€é˜¶æ®µæ‰§è¡Œã€‚
3. `idle, prepare`: ä»…åœ¨å†…éƒ¨ä½¿ç”¨ã€‚
4. `poll`: æœ€é‡è¦çš„é˜¶æ®µï¼Œæ‰§è¡Œ`pending callback`ï¼Œåœ¨é€‚å½“çš„æƒ…å†µä¸‹å›é˜»å¡åœ¨è¿™ä¸ªé˜¶æ®µã€‚
5. `check`: æ‰§è¡Œ`setImmediate`(`setImmediate()`æ˜¯å°†äº‹ä»¶æ’å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—å°¾éƒ¨ï¼Œä¸»çº¿ç¨‹å’Œäº‹ä»¶é˜Ÿåˆ—çš„å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åç«‹å³æ‰§è¡Œ`setImmediate`æŒ‡å®šçš„å›è°ƒå‡½æ•°)çš„`callback`ã€‚
6. `close callbacks`: æ‰§è¡Œ`close`äº‹ä»¶çš„`callback`ï¼Œä¾‹å¦‚`socket.on('close'[,fn])`æˆ–è€…`http.server.on('close, fn)`ã€‚



## ç½‘ç»œ

### TCP

> [é¢è¯•å®˜ï¼Œä¸è¦å†é—®æˆ‘ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹](https://juejin.cn/post/6844903958624878606)

#### **ä¸‰æ¬¡æ¡æ‰‹**

![ä¸‰æ¬¡æ¡æ‰‹.png](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/8/16da9fd28a45bd19~tplv-t2oaga2asx-watermark.awebp)

**ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸¤æ¬¡ä¸å¯ä»¥å—**

```
ä¸ºäº†é˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚åˆä¼ é€åˆ°ä¸»æœºï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚
å¦‚æœä½¿ç”¨çš„æ˜¯ä¸¤æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå‡è®¾æœ‰è¿™æ ·ä¸€ç§åœºæ™¯ï¼Œå®¢æˆ·ç«¯å‘é€äº†ç¬¬ä¸€ä¸ªè¯·
æ±‚è¿æ¥å¹¶ä¸”æ²¡æœ‰ä¸¢å¤±ï¼Œåªæ˜¯å› ä¸ºåœ¨ç½‘ç»œç»“ç‚¹ä¸­æ»ç•™çš„æ—¶é—´å¤ªé•¿äº†ï¼Œç”±äº TCP çš„å®¢
æˆ·ç«¯è¿Ÿè¿Ÿæ²¡æœ‰æ”¶åˆ°ç¡®è®¤æŠ¥æ–‡ï¼Œä»¥ä¸ºæœåŠ¡å™¨æ²¡æœ‰æ”¶åˆ°ï¼Œæ­¤æ—¶é‡æ–°å‘æœåŠ¡å™¨å‘é€è¿™æ¡
æŠ¥æ–‡ï¼Œæ­¤åå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç»è¿‡ä¸¤æ¬¡æ¡æ‰‹å®Œæˆè¿æ¥ï¼Œä¼ è¾“æ•°æ®ï¼Œç„¶åå…³é—­è¿æ¥ã€‚
æ­¤æ—¶æ­¤å‰æ»ç•™çš„é‚£ä¸€æ¬¡è¯·æ±‚è¿æ¥ï¼Œç½‘ç»œé€šç•…äº†åˆ°è¾¾äº†æœåŠ¡å™¨ï¼Œè¿™ä¸ªæŠ¥æ–‡æœ¬è¯¥æ˜¯å¤±
æ•ˆçš„ï¼Œä½†æ˜¯ï¼Œä¸¤æ¬¡æ¡æ‰‹çš„æœºåˆ¶å°†ä¼šè®©å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å†æ¬¡å»ºç«‹è¿æ¥ï¼Œè¿™å°†å¯¼è‡´ä¸
å¿…è¦çš„é”™è¯¯å’Œèµ„æºçš„æµªè´¹ã€‚

å¦‚æœé‡‡ç”¨çš„æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå°±ç®—æ˜¯é‚£ä¸€æ¬¡å¤±æ•ˆçš„æŠ¥æ–‡ä¼ é€è¿‡æ¥äº†ï¼ŒæœåŠ¡ç«¯æ¥å—åˆ°äº†
é‚£æ¡å¤±æ•ˆæŠ¥æ–‡å¹¶ä¸”å›å¤äº†ç¡®è®¤æŠ¥æ–‡ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¸ä¼šå†æ¬¡å‘å‡ºç¡®è®¤ã€‚ç”±äºæœåŠ¡å™¨
æ”¶ä¸åˆ°ç¡®è®¤ï¼Œå°±çŸ¥é“å®¢æˆ·ç«¯å¹¶æ²¡æœ‰è¯·æ±‚è¿æ¥ã€‚
```

#### å››æ¬¡æŒ¥æ‰‹

![image.png](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/10/8/16da9fd28b49f652~tplv-t2oaga2asx-watermark.awebp)

**æŒ¥æ‰‹ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡ï¼Ÿ**

å› ä¸ºå½“æœåŠ¡ç«¯æ”¶åˆ°å®¢æˆ·ç«¯çš„ SYN è¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€ SYN+ACK æŠ¥æ–‡ã€‚å…¶ä¸­**ACK æŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYN æŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„**ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“æœåŠ¡ç«¯æ”¶åˆ° FIN æŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­ SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ª ACK æŠ¥æ–‡ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œ"ä½ å‘çš„ FIN æŠ¥æ–‡æˆ‘æ”¶åˆ°äº†"ã€‚åªæœ‰ç­‰åˆ°æˆ‘æœåŠ¡ç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€ FIN æŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ¬¡æŒ¥æ‰‹ã€‚

**`2MSL`ç­‰å¾…çŠ¶æ€**

TIME_WAIT çŠ¶æ€ä¹Ÿæˆä¸º`2MSL`ç­‰å¾…çŠ¶æ€ã€‚æ¯ä¸ªå…·ä½“ TCP å®ç°å¿…é¡»é€‰æ‹©ä¸€ä¸ªæŠ¥æ–‡æ®µæœ€å¤§ç”Ÿå­˜æ—¶é—´ MSLï¼ˆMaximum Segment Lifetimeï¼‰ï¼Œå®ƒæ˜¯ä»»ä½•æŠ¥æ–‡æ®µè¢«ä¸¢å¼ƒå‰åœ¨ç½‘ç»œå†…çš„æœ€é•¿æ—¶é—´ã€‚è¿™ä¸ªæ—¶é—´æ˜¯æœ‰é™çš„ï¼Œå› ä¸º TCP æŠ¥æ–‡æ®µä»¥ IP æ•°æ®æŠ¥åœ¨ç½‘ç»œå†…ä¼ è¾“ï¼Œè€Œ IP æ•°æ®æŠ¥åˆ™æœ‰é™åˆ¶å…¶ç”Ÿå­˜æ—¶é—´çš„ TTL å­—æ®µã€‚

å¯¹ä¸€ä¸ªå…·ä½“å®ç°æ‰€ç»™å®šçš„ MSL å€¼ï¼Œå¤„ç†çš„åŸåˆ™æ˜¯ï¼šå½“ TCP æ‰§è¡Œä¸€ä¸ªä¸»åŠ¨å…³é—­ï¼Œå¹¶å‘å›æœ€åä¸€ä¸ª ACKï¼Œè¯¥è¿æ¥å¿…é¡»åœ¨ TIME_WAIT çŠ¶æ€åœç•™çš„æ—¶é—´ä¸º 2 å€çš„ MSLã€‚è¿™æ ·å¯è®© TCP å†æ¬¡å‘é€æœ€åçš„ ACK ä»¥é˜²è¿™ä¸ª ACK ä¸¢å¤±ï¼ˆå¦ä¸€ç«¯è¶…æ—¶å¹¶é‡å‘æœ€åçš„ FINï¼‰ã€‚

è¿™ç§ 2MSL ç­‰å¾…çš„å¦ä¸€ä¸ªç»“æœæ˜¯è¿™ä¸ª TCP è¿æ¥åœ¨ 2MSL ç­‰å¾…æœŸé—´ï¼Œå®šä¹‰è¿™ä¸ªè¿æ¥çš„æ’å£ï¼ˆå®¢æˆ·çš„ IP åœ°å€å’Œç«¯å£å·ï¼ŒæœåŠ¡å™¨çš„ IP åœ°å€å’Œç«¯å£å·ï¼‰ä¸èƒ½å†è¢«ä½¿ç”¨ã€‚è¿™ä¸ªè¿æ¥åªèƒ½åœ¨ 2MSL ç»“æŸåæ‰èƒ½å†è¢«ä½¿ç”¨ã€‚

### HTTP **ç‰ˆæœ¬**

### https(http + ssl/tls)

http: æœ€å¹¿æ³›ç½‘ç»œåè®®ï¼ŒBS æ¨¡å‹ï¼Œæµè§ˆå™¨é«˜æ•ˆã€‚

https: å®‰å…¨ç‰ˆï¼Œé€šè¿‡ SSL åŠ å¯†ï¼ŒåŠ å¯†ä¼ è¾“ï¼Œèº«ä»½è®¤è¯ï¼Œå¯†é’¥

1 https ç›¸å¯¹äº http åŠ å…¥äº† ssl å±‚, åŠ å¯†ä¼ è¾“, èº«ä»½è®¤è¯;

2 éœ€è¦åˆ° ca ç”³è¯·æ”¶è´¹çš„è¯ä¹¦;

3 å®‰å…¨ä½†æ˜¯è€—æ—¶å¤šï¼Œç¼“å­˜ä¸æ˜¯å¾ˆå¥½;

4 æ³¨æ„å…¼å®¹ http å’Œ https;

5 è¿æ¥æ–¹å¼ä¸åŒ, ç«¯å£å·ä¹Ÿä¸åŒ, http æ˜¯ 80, https æ˜¯ 443

- æ˜æ–‡ï¼š æ™®é€šçš„æ–‡æœ¬

- å¯†é’¥ï¼šæŠŠæ˜æ–‡åŠ å¯†çš„é‚£ä¸ªé’¥åŒ™

- å¯†æ–‡ï¼š æŠŠæ˜æ–‡åŠ å¯†

  æ˜æ–‡+å¯†é’¥==>å¯†æ–‡==>å¯†é’¥==è§£å¯†=>æ˜æ–‡

- å¯¹ç§°åŠ å¯† è§£å¯†çš„ keyï¼ˆå¯†é’¥ï¼‰å’Œè§£å¯†çš„ key æ˜¯åŒä¸€ä¸ª 3 + 1

- éå¯¹ç§°åŠ å¯† ç§é’¥å’Œå…¬é’¥

![æ— æ ‡é¢˜.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/489428dbcc4840d689ed717d4335a833~tplv-k3u1fbpfcp-watermark.image?)
