

## vue中尝试动态加载

**开发环境全部加载**

> 注意：這樣就不要使用  babel-plugin-dynamic-import-node， 会导致出问题

**懒加载**

```js
route.component = resolve => require(['@/views/' + componentPath + '.vue'], resolve)
```



```js
function _import(file) {
  if (file === 'blank') return Blank
  return function() {
    // https://webpack.docschina.org/api/module-methods/#magic-comments
    // return import(
    //   /* webpackInclude: /views/gov/(.+)\.vue$/ */
    //   /* webpackExclude: /(model|components)/ */
    //   /* webpackChunkName: "[request]" */
    //   '@/views/' + file + '.vue'
    // )
    return import(
      /* webpackInclude: /\.vue$/ */
      /* webpackExclude: /(model|components)/ */
      /* webpackChunkName: "[request]" */
      '@/views/' + file + '.vue'
    )
  }
}
```

问题： 会出现加载不了，出现这个的原因，是因为 `babel.config.js`中配置了 `babel-plugin-dynamic-import-node` 的问题，把这个注释掉就可以了

```js
module.exports = {
  presets: ['@vue/cli-plugin-babel/preset'],
  env: {
    development: {
      // presets: ['env', 'stage-2'],
      // 2021/5/21、babel-plugin-dynamic-import-node 导致按需加载不了
      // plugins: ['dynamic-import-node']
    }
  }
}

```



## ElementUI排序请求后端接口

1. 设置 `el-table-column` 的属性 `sortable` 值为 `custom` 

   ```html
   <el-table-column label="报名时间" prop="signUpTime" sortable="custom"></el-table-column>
   ```

2. 在`el-table`上监听事件 `sort-change`

   ```html
   <el-table @sort-change="onSortChange"></el-table>
   ```

3. 请求数据

   ```js
   onSortChange({ order }) {
       const sorts = {
           // 1-正序 2-倒序
           // 报名时间排序1=倒叙2正序（默认为1）
           descending: 1,
           ascending: 2
       }
   
       this.dataForm.descAndAsc = sorts[order]
       this.getList()
   },
   ```

   